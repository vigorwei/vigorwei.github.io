<!DOCTYPE html>
<html lang="en-us" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='Mybatisç®€ä»‹ MyBatiså†å²  MyBatisæœ€åˆæ˜¯Apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatis, 2010å¹´6æœˆè¿™ä¸ªé¡¹ç›®ç”±Apache Software Foundationè¿ç§»åˆ°äº†Google Codeã€‚éšç€å¼€å‘å›¢é˜Ÿè½¬æŠ•Google Codeæ——ä¸‹ï¼ŒiBatis3.xæ­£å¼æ›´åä¸ºMyBatisã€‚ä»£ç äº2013å¹´11æœˆè¿ç§»åˆ°Github iBatisä¸€è¯æ¥æºäºâ€œinternetâ€å’Œâ€œabatisâ€çš„ç»„åˆï¼Œæ˜¯ä¸€ä¸ªåŸºäºJavaçš„æŒä¹…å±‚æ¡†æ¶ã€‚iBatisæä¾›çš„æŒä¹…å±‚æ¡†æ¶åŒ…æ‹¬SQL Mapså’ŒData Access Objectsï¼ˆDAOï¼‰  MyBatisç‰¹æ€§  MyBatis æ˜¯æ”¯æŒå®šåˆ¶åŒ– SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„çš„ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ MyBatis é¿å…äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç å’Œæ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠè·å–ç»“æœé›† MyBatiså¯ä»¥ä½¿ç”¨ç®€å•çš„XMLæˆ–æ³¨è§£ç”¨äºé…ç½®å’ŒåŸå§‹æ˜ å°„ï¼Œå°†æ¥å£å’ŒJavaçš„POJOï¼ˆPlain Old Java Objectsï¼Œæ™®é€šçš„Javaå¯¹è±¡ï¼‰æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½• MyBatis æ˜¯ä¸€ä¸ª åŠè‡ªåŠ¨çš„ORMï¼ˆObject Relation Mappingï¼‰æ¡†æ¶  MyBatisä¸‹è½½  MyBatisä¸‹è½½åœ°å€   å’Œå…¶å®ƒæŒä¹…åŒ–å±‚æŠ€æœ¯å¯¹æ¯”  JDBC SQL å¤¹æ‚åœ¨Javaä»£ç ä¸­è€¦åˆåº¦é«˜ï¼Œå¯¼è‡´ç¡¬ç¼–ç å†…ä¼¤  ç»´æŠ¤ä¸æ˜“ä¸”å®é™…å¼€å‘éœ€æ±‚ä¸­ SQL æœ‰å˜åŒ–ï¼Œé¢‘ç¹ä¿®æ”¹çš„æƒ…å†µå¤šè§ ä»£ç å†—é•¿ï¼Œå¼€å‘æ•ˆç‡ä½   Hibernate å’Œ JPA æ“ä½œç®€ä¾¿ï¼Œå¼€å‘æ•ˆç‡é«˜  ç¨‹åºä¸­çš„é•¿éš¾å¤æ‚ SQL éœ€è¦ç»•è¿‡æ¡†æ¶ å†…éƒ¨è‡ªåŠ¨ç”Ÿäº§çš„ SQLï¼Œä¸å®¹æ˜“åšç‰¹æ®Šä¼˜åŒ– åŸºäºå…¨æ˜ å°„çš„å…¨è‡ªåŠ¨æ¡†æ¶ï¼Œå¤§é‡å­—æ®µçš„ POJO è¿›è¡Œéƒ¨åˆ†æ˜ å°„æ—¶æ¯”è¾ƒå›°éš¾ã€‚ åå°„æ“ä½œå¤ªå¤šï¼Œå¯¼è‡´æ•°æ®åº“æ€§èƒ½ä¸‹é™   MyBatis è½»é‡çº§ï¼Œæ€§èƒ½å‡ºè‰²  SQL å’Œ Java ç¼–ç åˆ†å¼€ï¼ŒåŠŸèƒ½è¾¹ç•Œæ¸…æ™°ã€‚Javaä»£ç ä¸“æ³¨ä¸šåŠ¡ã€SQLè¯­å¥ä¸“æ³¨æ•°æ® å¼€å‘æ•ˆç‡ç¨é€ŠäºHIbernateï¼Œä½†æ˜¯å®Œå…¨èƒ½å¤Ÿæ¥å—    æ­å»ºMyBatis å¼€å‘ç¯å¢ƒ  IDEï¼šidea 2019.'><title>Mybatis</title>

<link rel='canonical' href='https://vigorwei.github.io/p/mybatis/'>

<link rel="stylesheet" href="/scss/style.min.b80bf249ce4a22cf55e8d7340a0b37a2f2c10f54f3a9a49cb94b694a2eb0bbea.css"><meta property='og:title' content='Mybatis'>
<meta property='og:description' content='Mybatisç®€ä»‹ MyBatiså†å²  MyBatisæœ€åˆæ˜¯Apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatis, 2010å¹´6æœˆè¿™ä¸ªé¡¹ç›®ç”±Apache Software Foundationè¿ç§»åˆ°äº†Google Codeã€‚éšç€å¼€å‘å›¢é˜Ÿè½¬æŠ•Google Codeæ——ä¸‹ï¼ŒiBatis3.xæ­£å¼æ›´åä¸ºMyBatisã€‚ä»£ç äº2013å¹´11æœˆè¿ç§»åˆ°Github iBatisä¸€è¯æ¥æºäºâ€œinternetâ€å’Œâ€œabatisâ€çš„ç»„åˆï¼Œæ˜¯ä¸€ä¸ªåŸºäºJavaçš„æŒä¹…å±‚æ¡†æ¶ã€‚iBatisæä¾›çš„æŒä¹…å±‚æ¡†æ¶åŒ…æ‹¬SQL Mapså’ŒData Access Objectsï¼ˆDAOï¼‰  MyBatisç‰¹æ€§  MyBatis æ˜¯æ”¯æŒå®šåˆ¶åŒ– SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„çš„ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ MyBatis é¿å…äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç å’Œæ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠè·å–ç»“æœé›† MyBatiså¯ä»¥ä½¿ç”¨ç®€å•çš„XMLæˆ–æ³¨è§£ç”¨äºé…ç½®å’ŒåŸå§‹æ˜ å°„ï¼Œå°†æ¥å£å’ŒJavaçš„POJOï¼ˆPlain Old Java Objectsï¼Œæ™®é€šçš„Javaå¯¹è±¡ï¼‰æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½• MyBatis æ˜¯ä¸€ä¸ª åŠè‡ªåŠ¨çš„ORMï¼ˆObject Relation Mappingï¼‰æ¡†æ¶  MyBatisä¸‹è½½  MyBatisä¸‹è½½åœ°å€   å’Œå…¶å®ƒæŒä¹…åŒ–å±‚æŠ€æœ¯å¯¹æ¯”  JDBC SQL å¤¹æ‚åœ¨Javaä»£ç ä¸­è€¦åˆåº¦é«˜ï¼Œå¯¼è‡´ç¡¬ç¼–ç å†…ä¼¤  ç»´æŠ¤ä¸æ˜“ä¸”å®é™…å¼€å‘éœ€æ±‚ä¸­ SQL æœ‰å˜åŒ–ï¼Œé¢‘ç¹ä¿®æ”¹çš„æƒ…å†µå¤šè§ ä»£ç å†—é•¿ï¼Œå¼€å‘æ•ˆç‡ä½   Hibernate å’Œ JPA æ“ä½œç®€ä¾¿ï¼Œå¼€å‘æ•ˆç‡é«˜  ç¨‹åºä¸­çš„é•¿éš¾å¤æ‚ SQL éœ€è¦ç»•è¿‡æ¡†æ¶ å†…éƒ¨è‡ªåŠ¨ç”Ÿäº§çš„ SQLï¼Œä¸å®¹æ˜“åšç‰¹æ®Šä¼˜åŒ– åŸºäºå…¨æ˜ å°„çš„å…¨è‡ªåŠ¨æ¡†æ¶ï¼Œå¤§é‡å­—æ®µçš„ POJO è¿›è¡Œéƒ¨åˆ†æ˜ å°„æ—¶æ¯”è¾ƒå›°éš¾ã€‚ åå°„æ“ä½œå¤ªå¤šï¼Œå¯¼è‡´æ•°æ®åº“æ€§èƒ½ä¸‹é™   MyBatis è½»é‡çº§ï¼Œæ€§èƒ½å‡ºè‰²  SQL å’Œ Java ç¼–ç åˆ†å¼€ï¼ŒåŠŸèƒ½è¾¹ç•Œæ¸…æ™°ã€‚Javaä»£ç ä¸“æ³¨ä¸šåŠ¡ã€SQLè¯­å¥ä¸“æ³¨æ•°æ® å¼€å‘æ•ˆç‡ç¨é€ŠäºHIbernateï¼Œä½†æ˜¯å®Œå…¨èƒ½å¤Ÿæ¥å—    æ­å»ºMyBatis å¼€å‘ç¯å¢ƒ  IDEï¼šidea 2019.'>
<meta property='og:url' content='https://vigorwei.github.io/p/mybatis/'>
<meta property='og:site_name' content='Cammelia'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2022-03-14T17:32:29&#43;08:00'/><meta property='article:modified_time' content='2022-03-14T17:32:29&#43;08:00'/><meta property='og:image' content='https://vigorwei.github.io/p/mybatis/wallhaven-279676.jpg' />
<meta name="twitter:title" content="Mybatis">
<meta name="twitter:description" content="Mybatisç®€ä»‹ MyBatiså†å²  MyBatisæœ€åˆæ˜¯Apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatis, 2010å¹´6æœˆè¿™ä¸ªé¡¹ç›®ç”±Apache Software Foundationè¿ç§»åˆ°äº†Google Codeã€‚éšç€å¼€å‘å›¢é˜Ÿè½¬æŠ•Google Codeæ——ä¸‹ï¼ŒiBatis3.xæ­£å¼æ›´åä¸ºMyBatisã€‚ä»£ç äº2013å¹´11æœˆè¿ç§»åˆ°Github iBatisä¸€è¯æ¥æºäºâ€œinternetâ€å’Œâ€œabatisâ€çš„ç»„åˆï¼Œæ˜¯ä¸€ä¸ªåŸºäºJavaçš„æŒä¹…å±‚æ¡†æ¶ã€‚iBatisæä¾›çš„æŒä¹…å±‚æ¡†æ¶åŒ…æ‹¬SQL Mapså’ŒData Access Objectsï¼ˆDAOï¼‰  MyBatisç‰¹æ€§  MyBatis æ˜¯æ”¯æŒå®šåˆ¶åŒ– SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„çš„ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ MyBatis é¿å…äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç å’Œæ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠè·å–ç»“æœé›† MyBatiså¯ä»¥ä½¿ç”¨ç®€å•çš„XMLæˆ–æ³¨è§£ç”¨äºé…ç½®å’ŒåŸå§‹æ˜ å°„ï¼Œå°†æ¥å£å’ŒJavaçš„POJOï¼ˆPlain Old Java Objectsï¼Œæ™®é€šçš„Javaå¯¹è±¡ï¼‰æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½• MyBatis æ˜¯ä¸€ä¸ª åŠè‡ªåŠ¨çš„ORMï¼ˆObject Relation Mappingï¼‰æ¡†æ¶  MyBatisä¸‹è½½  MyBatisä¸‹è½½åœ°å€   å’Œå…¶å®ƒæŒä¹…åŒ–å±‚æŠ€æœ¯å¯¹æ¯”  JDBC SQL å¤¹æ‚åœ¨Javaä»£ç ä¸­è€¦åˆåº¦é«˜ï¼Œå¯¼è‡´ç¡¬ç¼–ç å†…ä¼¤  ç»´æŠ¤ä¸æ˜“ä¸”å®é™…å¼€å‘éœ€æ±‚ä¸­ SQL æœ‰å˜åŒ–ï¼Œé¢‘ç¹ä¿®æ”¹çš„æƒ…å†µå¤šè§ ä»£ç å†—é•¿ï¼Œå¼€å‘æ•ˆç‡ä½   Hibernate å’Œ JPA æ“ä½œç®€ä¾¿ï¼Œå¼€å‘æ•ˆç‡é«˜  ç¨‹åºä¸­çš„é•¿éš¾å¤æ‚ SQL éœ€è¦ç»•è¿‡æ¡†æ¶ å†…éƒ¨è‡ªåŠ¨ç”Ÿäº§çš„ SQLï¼Œä¸å®¹æ˜“åšç‰¹æ®Šä¼˜åŒ– åŸºäºå…¨æ˜ å°„çš„å…¨è‡ªåŠ¨æ¡†æ¶ï¼Œå¤§é‡å­—æ®µçš„ POJO è¿›è¡Œéƒ¨åˆ†æ˜ å°„æ—¶æ¯”è¾ƒå›°éš¾ã€‚ åå°„æ“ä½œå¤ªå¤šï¼Œå¯¼è‡´æ•°æ®åº“æ€§èƒ½ä¸‹é™   MyBatis è½»é‡çº§ï¼Œæ€§èƒ½å‡ºè‰²  SQL å’Œ Java ç¼–ç åˆ†å¼€ï¼ŒåŠŸèƒ½è¾¹ç•Œæ¸…æ™°ã€‚Javaä»£ç ä¸“æ³¨ä¸šåŠ¡ã€SQLè¯­å¥ä¸“æ³¨æ•°æ® å¼€å‘æ•ˆç‡ç¨é€ŠäºHIbernateï¼Œä½†æ˜¯å®Œå…¨èƒ½å¤Ÿæ¥å—    æ­å»ºMyBatis å¼€å‘ç¯å¢ƒ  IDEï¼šidea 2019."><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://vigorwei.github.io/p/mybatis/wallhaven-279676.jpg' />
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu9e677cef8e9c26b9c0345ca6c79d2d57_7885_300x0_resize_box_3.png" width="300"
                            height="306" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ğŸ¥</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Cammelia</a></h1>
            <h2 class="site-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://github.com/CaiJimmy/hugo-theme-stack'
                        target="_blank"
                        title="GitHub"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com'
                        target="_blank"
                        title="Twitter"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        

        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        

        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        

        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        

        <li >
            <a href='/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Links</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
                <li id="i18n-switch">  
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                    <select name="language" onchange="window.location.href = this.selectedOptions[0].value">
                        
                            <option value="https://vigorwei.github.io/" selected>English</option>
                        
                            <option value="https://vigorwei.github.io/zh-cn/" >ä¸­æ–‡</option>
                        
                            <option value="https://vigorwei.github.io/ar/" >Ø¹Ø±Ø¨ÙŠ</option>
                        
                    </select>
                </li>
            
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>Dark Mode</span>
                </li>
            
        </div>
    </ol>
</aside>
<main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/mybatis/">
                <img src="/p/mybatis/wallhaven-279676_hude352cef37aba5d2c00ac1368a1ddcc4_60382_800x0_resize_q75_box.jpg"
                        srcset="/p/mybatis/wallhaven-279676_hude352cef37aba5d2c00ac1368a1ddcc4_60382_800x0_resize_q75_box.jpg 800w, /p/mybatis/wallhaven-279676_hude352cef37aba5d2c00ac1368a1ddcc4_60382_1600x0_resize_q75_box.jpg 1600w"
                        width="800" 
                        height="518" 
                        loading="lazy"
                        alt="Featured image of post Mybatis" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/%E6%8A%80%E6%9C%AF/" >
                æŠ€æœ¯
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/mybatis/">Mybatis</a>
        </h2>
    
        
    </div>

    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Mar 14, 2022</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    19 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>
</header>

    <section class="article-content">
    
    
    <h1 id="mybatisç®€ä»‹">Mybatisç®€ä»‹</h1>
<h2 id="mybatiså†å²">MyBatiså†å²</h2>
<ul>
<li>MyBatisæœ€åˆæ˜¯Apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatis, 2010å¹´6æœˆè¿™ä¸ªé¡¹ç›®ç”±Apache Software Foundationè¿ç§»åˆ°äº†Google Codeã€‚éšç€å¼€å‘å›¢é˜Ÿè½¬æŠ•Google Codeæ——ä¸‹ï¼ŒiBatis3.xæ­£å¼æ›´åä¸ºMyBatisã€‚ä»£ç äº2013å¹´11æœˆè¿ç§»åˆ°Github</li>
<li>iBatisä¸€è¯æ¥æºäºâ€œinternetâ€å’Œâ€œabatisâ€çš„ç»„åˆï¼Œæ˜¯ä¸€ä¸ªåŸºäºJavaçš„æŒä¹…å±‚æ¡†æ¶ã€‚iBatisæä¾›çš„æŒä¹…å±‚æ¡†æ¶åŒ…æ‹¬SQL Mapså’ŒData Access Objectsï¼ˆDAOï¼‰</li>
</ul>
<h2 id="mybatisç‰¹æ€§">MyBatisç‰¹æ€§</h2>
<ol>
<li>MyBatis æ˜¯æ”¯æŒå®šåˆ¶åŒ– SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„çš„ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶</li>
<li>MyBatis é¿å…äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç å’Œæ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠè·å–ç»“æœé›†</li>
<li>MyBatiså¯ä»¥ä½¿ç”¨ç®€å•çš„XMLæˆ–æ³¨è§£ç”¨äºé…ç½®å’ŒåŸå§‹æ˜ å°„ï¼Œå°†æ¥å£å’ŒJavaçš„POJOï¼ˆPlain Old Java Objectsï¼Œæ™®é€šçš„Javaå¯¹è±¡ï¼‰æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•</li>
<li>MyBatis æ˜¯ä¸€ä¸ª åŠè‡ªåŠ¨çš„ORMï¼ˆObject Relation Mappingï¼‰æ¡†æ¶</li>
</ol>
<h2 id="mybatisä¸‹è½½">MyBatisä¸‹è½½</h2>
<ul>
<li><a class="link" href="https://github.com/mybatis/mybatis-3"  target="_blank" rel="noopener"
    >MyBatisä¸‹è½½åœ°å€</a></li>
<li><img src="/D:%5c%e8%bf%85%e9%9b%b7%e4%b8%8b%e8%bd%bd%5cMyBatis%5cMyBatis%5cResources%5cMyBatis%e4%b8%8b%e8%bd%bd.png"
	
	
	
	loading="lazy"
	
	
></li>
</ul>
<h2 id="å’Œå…¶å®ƒæŒä¹…åŒ–å±‚æŠ€æœ¯å¯¹æ¯”">å’Œå…¶å®ƒæŒä¹…åŒ–å±‚æŠ€æœ¯å¯¹æ¯”</h2>
<ul>
<li>JDBC</li>
<li>SQL å¤¹æ‚åœ¨Javaä»£ç ä¸­è€¦åˆåº¦é«˜ï¼Œå¯¼è‡´ç¡¬ç¼–ç å†…ä¼¤
<ul>
<li>ç»´æŠ¤ä¸æ˜“ä¸”å®é™…å¼€å‘éœ€æ±‚ä¸­ SQL æœ‰å˜åŒ–ï¼Œé¢‘ç¹ä¿®æ”¹çš„æƒ…å†µå¤šè§</li>
<li>ä»£ç å†—é•¿ï¼Œå¼€å‘æ•ˆç‡ä½</li>
</ul>
</li>
<li>Hibernate å’Œ JPA</li>
<li>æ“ä½œç®€ä¾¿ï¼Œå¼€å‘æ•ˆç‡é«˜
<ul>
<li>ç¨‹åºä¸­çš„é•¿éš¾å¤æ‚ SQL éœ€è¦ç»•è¿‡æ¡†æ¶</li>
<li>å†…éƒ¨è‡ªåŠ¨ç”Ÿäº§çš„ SQLï¼Œä¸å®¹æ˜“åšç‰¹æ®Šä¼˜åŒ–</li>
<li>åŸºäºå…¨æ˜ å°„çš„å…¨è‡ªåŠ¨æ¡†æ¶ï¼Œå¤§é‡å­—æ®µçš„ POJO è¿›è¡Œéƒ¨åˆ†æ˜ å°„æ—¶æ¯”è¾ƒå›°éš¾ã€‚</li>
<li>åå°„æ“ä½œå¤ªå¤šï¼Œå¯¼è‡´æ•°æ®åº“æ€§èƒ½ä¸‹é™</li>
</ul>
</li>
<li>MyBatis</li>
<li>è½»é‡çº§ï¼Œæ€§èƒ½å‡ºè‰²
<ul>
<li>SQL å’Œ Java ç¼–ç åˆ†å¼€ï¼ŒåŠŸèƒ½è¾¹ç•Œæ¸…æ™°ã€‚Javaä»£ç ä¸“æ³¨ä¸šåŠ¡ã€SQLè¯­å¥ä¸“æ³¨æ•°æ®</li>
<li>å¼€å‘æ•ˆç‡ç¨é€ŠäºHIbernateï¼Œä½†æ˜¯å®Œå…¨èƒ½å¤Ÿæ¥å—</li>
</ul>
</li>
</ul>
<h1 id="æ­å»ºmybatis">æ­å»ºMyBatis</h1>
<h2 id="å¼€å‘ç¯å¢ƒ">å¼€å‘ç¯å¢ƒ</h2>
<ul>
<li>IDEï¼šidea 2019.2</li>
<li>æ„å»ºå·¥å…·ï¼šmaven 3.5.4</li>
<li>MySQLç‰ˆæœ¬ï¼šMySQL 5.7</li>
<li>MyBatisç‰ˆæœ¬ï¼šMyBatis 3.5.7</li>
</ul>
<h2 id="åˆ›å»ºmavenå·¥ç¨‹">åˆ›å»ºmavenå·¥ç¨‹</h2>
<ul>
<li>
<p>æ‰“åŒ…æ–¹å¼ï¼šjar</p>
</li>
<li>
<p>å¼•å…¥ä¾èµ–</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;dependencies&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="c">&lt;!-- Mybatisæ ¸å¿ƒ --&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;groupId&gt;</span>org.mybatis<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;artifactId&gt;</span>mybatis<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;version&gt;</span>3.5.7<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="c">&lt;!-- junitæµ‹è¯• --&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;groupId&gt;</span>junit<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;artifactId&gt;</span>junit<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;version&gt;</span>4.12<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="c">&lt;!-- MySQLé©±åŠ¨ --&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;groupId&gt;</span>mysql<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;artifactId&gt;</span>mysql-connector-java<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;version&gt;</span>5.1.3<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/dependencies&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h2 id="åˆ›å»ºmybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶">åˆ›å»ºMyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</h2>
<blockquote>
<p>ä¹ æƒ¯ä¸Šå‘½åä¸º<code>mybatis-config.xml</code>ï¼Œè¿™ä¸ªæ–‡ä»¶åä»…ä»…åªæ˜¯å»ºè®®ï¼Œå¹¶éå¼ºåˆ¶è¦æ±‚ã€‚å°†æ¥æ•´åˆSpringä¹‹åï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶å¯ä»¥çœç•¥ï¼Œæ‰€ä»¥å¤§å®¶æ“ä½œæ—¶å¯ä»¥ç›´æ¥å¤åˆ¶ã€ç²˜è´´ã€‚
æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸»è¦ç”¨äºé…ç½®è¿æ¥æ•°æ®åº“çš„ç¯å¢ƒä»¥åŠMyBatisçš„å…¨å±€é…ç½®ä¿¡æ¯
æ ¸å¿ƒé…ç½®æ–‡ä»¶å­˜æ”¾çš„ä½ç½®æ˜¯src/main/resourcesç›®å½•ä¸‹</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; ?&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE configuration  
</span></span></span><span class="line"><span class="cl"><span class="cp">PUBLIC &#34;-//mybatis.org//DTD Config 3.0//EN&#34;  
</span></span></span><span class="line"><span class="cl"><span class="cp">&#34;http://mybatis.org/dtd/mybatis-3-config.dtd&#34;&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="nt">&lt;configuration&gt;</span>  
</span></span><span class="line"><span class="cl">	<span class="c">&lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„ç¯å¢ƒ--&gt;</span>  
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;environments</span> <span class="na">default=</span><span class="s">&#34;development&#34;</span><span class="nt">&gt;</span>  
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;environment</span> <span class="na">id=</span><span class="s">&#34;development&#34;</span><span class="nt">&gt;</span>  
</span></span><span class="line"><span class="cl">			<span class="nt">&lt;transactionManager</span> <span class="na">type=</span><span class="s">&#34;JDBC&#34;</span><span class="nt">/&gt;</span>  
</span></span><span class="line"><span class="cl">			<span class="nt">&lt;dataSource</span> <span class="na">type=</span><span class="s">&#34;POOLED&#34;</span><span class="nt">&gt;</span>  
</span></span><span class="line"><span class="cl">				<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;driver&#34;</span> <span class="na">value=</span><span class="s">&#34;com.mysql.cj.jdbc.Driver&#34;</span><span class="nt">/&gt;</span>  
</span></span><span class="line"><span class="cl">				<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;url&#34;</span> <span class="na">value=</span><span class="s">&#34;jdbc:mysql://localhost:3306/MyBatis&#34;</span><span class="nt">/&gt;</span>  
</span></span><span class="line"><span class="cl">				<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;username&#34;</span> <span class="na">value=</span><span class="s">&#34;root&#34;</span><span class="nt">/&gt;</span>  
</span></span><span class="line"><span class="cl">				<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;password&#34;</span> <span class="na">value=</span><span class="s">&#34;123456&#34;</span><span class="nt">/&gt;</span>  
</span></span><span class="line"><span class="cl">			<span class="nt">&lt;/dataSource&gt;</span>  
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;/environment&gt;</span>  
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/environments&gt;</span>  
</span></span><span class="line"><span class="cl">	<span class="c">&lt;!--å¼•å…¥æ˜ å°„æ–‡ä»¶--&gt;</span>  
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;mappers&gt;</span>  
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;mapper</span> <span class="na">resource=</span><span class="s">&#34;mappers/UserMapper.xml&#34;</span><span class="nt">/&gt;</span>  
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/mappers&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/configuration&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="åˆ›å»ºmapperæ¥å£">åˆ›å»ºmapperæ¥å£</h2>
<blockquote>
<p>MyBatisä¸­çš„mapperæ¥å£ç›¸å½“äºä»¥å‰çš„daoã€‚ä½†æ˜¯åŒºåˆ«åœ¨äºï¼Œmapperä»…ä»…æ˜¯æ¥å£ï¼Œæˆ‘ä»¬ä¸éœ€è¦æä¾›å®ç°ç±»</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nn">com.atguigu.mybatis.mapper</span><span class="o">;</span>  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">UserMapper</span> <span class="o">{</span>  
</span></span><span class="line"><span class="cl">	<span class="cm">/**  
</span></span></span><span class="line"><span class="cl"><span class="cm">	* æ·»åŠ ç”¨æˆ·ä¿¡æ¯  
</span></span></span><span class="line"><span class="cl"><span class="cm">	*/</span>  
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="nf">insertUser</span><span class="o">();</span>  
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="åˆ›å»ºmybatisçš„æ˜ å°„æ–‡ä»¶">åˆ›å»ºMyBatisçš„æ˜ å°„æ–‡ä»¶</h2>
<ul>
<li>ç›¸å…³æ¦‚å¿µï¼šORMï¼ˆObject Relationship Mappingï¼‰å¯¹è±¡å…³ç³»æ˜ å°„ã€‚</li>
<li>å¯¹è±¡ï¼šJavaçš„å®ä½“ç±»å¯¹è±¡
<ul>
<li>å…³ç³»ï¼šå…³ç³»å‹æ•°æ®åº“</li>
<li>æ˜ å°„ï¼šäºŒè€…ä¹‹é—´çš„å¯¹åº”å…³ç³»</li>
</ul>
</li>
</ul>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Javaæ¦‚å¿µ</th>
<th>æ•°æ®åº“æ¦‚å¿µ</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç±»</td>
<td>è¡¨</td>
</tr>
<tr>
<td>å±æ€§</td>
<td>å­—æ®µ/åˆ—</td>
</tr>
<tr>
<td>å¯¹è±¡</td>
<td>è®°å½•/è¡Œ</td>
</tr>
</tbody>
</table></div>
<ul>
<li>æ˜ å°„æ–‡ä»¶çš„å‘½åè§„åˆ™</li>
<li>è¡¨æ‰€å¯¹åº”çš„å®ä½“ç±»çš„ç±»å+Mapper.xml
<ul>
<li>ä¾‹å¦‚ï¼šè¡¨t_userï¼Œæ˜ å°„çš„å®ä½“ç±»ä¸ºUserï¼Œæ‰€å¯¹åº”çš„æ˜ å°„æ–‡ä»¶ä¸ºUserMapper.xml</li>
<li>å› æ­¤ä¸€ä¸ªæ˜ å°„æ–‡ä»¶å¯¹åº”ä¸€ä¸ªå®ä½“ç±»ï¼Œå¯¹åº”ä¸€å¼ è¡¨çš„æ“ä½œ</li>
<li>MyBatisæ˜ å°„æ–‡ä»¶ç”¨äºç¼–å†™SQLï¼Œè®¿é—®ä»¥åŠæ“ä½œè¡¨ä¸­çš„æ•°æ®</li>
<li>MyBatisæ˜ å°„æ–‡ä»¶å­˜æ”¾çš„ä½ç½®æ˜¯src/main/resources/mappersç›®å½•ä¸‹</li>
</ul>
</li>
<li>MyBatisä¸­å¯ä»¥é¢å‘æ¥å£æ“ä½œæ•°æ®ï¼Œè¦ä¿è¯ä¸¤ä¸ªä¸€è‡´</li>
<li>mapperæ¥å£çš„å…¨ç±»åå’Œæ˜ å°„æ–‡ä»¶çš„å‘½åç©ºé—´ï¼ˆnamespaceï¼‰ä¿æŒä¸€è‡´
<ul>
<li>mapperæ¥å£ä¸­æ–¹æ³•çš„æ–¹æ³•åå’Œæ˜ å°„æ–‡ä»¶ä¸­ç¼–å†™SQLçš„æ ‡ç­¾çš„idå±æ€§ä¿æŒä¸€è‡´</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; ?&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE mapper  
</span></span></span><span class="line"><span class="cl"><span class="cp">PUBLIC &#34;-//mybatis.org//DTD Mapper 3.0//EN&#34;  
</span></span></span><span class="line"><span class="cl"><span class="cp">&#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd&#34;&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="nt">&lt;mapper</span> <span class="na">namespace=</span><span class="s">&#34;com.atguigu.mybatis.mapper.UserMapper&#34;</span><span class="nt">&gt;</span>  
</span></span><span class="line"><span class="cl">	<span class="c">&lt;!--int insertUser();--&gt;</span>  
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;insert</span> <span class="na">id=</span><span class="s">&#34;insertUser&#34;</span><span class="nt">&gt;</span>  
</span></span><span class="line"><span class="cl">		insert into t_user values(null,&#39;å¼ ä¸‰&#39;,&#39;123&#39;,23,&#39;å¥³&#39;)  
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/insert&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/mapper&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="é€šè¿‡junitæµ‹è¯•åŠŸèƒ½">é€šè¿‡junitæµ‹è¯•åŠŸèƒ½</h2>
<ul>
<li>SqlSessionï¼šä»£è¡¨Javaç¨‹åºå’Œæ•°æ®åº“ä¹‹é—´çš„ä¼šè¯ã€‚ï¼ˆHttpSessionæ˜¯Javaç¨‹åºå’Œæµè§ˆå™¨ä¹‹é—´çš„ä¼šè¯ï¼‰</li>
<li>SqlSessionFactoryï¼šæ˜¯â€œç”Ÿäº§â€SqlSessionçš„â€œå·¥å‚â€</li>
<li>å·¥å‚æ¨¡å¼ï¼šå¦‚æœåˆ›å»ºæŸä¸€ä¸ªå¯¹è±¡ï¼Œä½¿ç”¨çš„è¿‡ç¨‹åŸºæœ¬å›ºå®šï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æŠŠåˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„ç›¸å…³ä»£ç å°è£…åˆ°ä¸€ä¸ªâ€œå·¥å‚ç±»â€ä¸­ï¼Œä»¥åéƒ½ä½¿ç”¨è¿™ä¸ªå·¥å‚ç±»æ¥â€œç”Ÿäº§â€æˆ‘ä»¬éœ€è¦çš„å¯¹è±¡</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserMapperTest</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="nd">@Test</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testInsertUser</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//è¯»å–MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">InputStream</span> <span class="n">is</span> <span class="o">=</span> <span class="n">Resources</span><span class="o">.</span><span class="na">getResourceAsStream</span><span class="o">(</span><span class="s">&#34;mybatis-config.xml&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//è·å–SqlSessionFactoryBuilderå¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">SqlSessionFactoryBuilder</span> <span class="n">sqlSessionFactoryBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SqlSessionFactoryBuilder</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//é€šè¿‡æ ¸å¿ƒé…ç½®æ–‡ä»¶æ‰€å¯¹åº”çš„å­—èŠ‚è¾“å…¥æµåˆ›å»ºå·¥å‚ç±»SqlSessionFactoryï¼Œç”Ÿäº§SqlSessionå¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">SqlSessionFactory</span> <span class="n">sqlSessionFactory</span> <span class="o">=</span> <span class="n">sqlSessionFactoryBuilder</span><span class="o">.</span><span class="na">build</span><span class="o">(</span><span class="n">is</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//è·å–sqlSessionï¼Œæ­¤æ—¶é€šè¿‡SqlSessionå¯¹è±¡æ‰€æ“ä½œçš„sqléƒ½å¿…é¡»æ‰‹åŠ¨æäº¤æˆ–å›æ»šäº‹åŠ¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//SqlSession sqlSession = sqlSessionFactory.openSession();
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	    <span class="c1">//åˆ›å»ºSqlSessionå¯¹è±¡ï¼Œæ­¤æ—¶é€šè¿‡SqlSessionå¯¹è±¡æ‰€æ“ä½œçš„sqléƒ½ä¼šè‡ªåŠ¨æäº¤  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="n">SqlSession</span> <span class="n">sqlSession</span> <span class="o">=</span> <span class="n">sqlSessionFactory</span><span class="o">.</span><span class="na">openSession</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//é€šè¿‡ä»£ç†æ¨¡å¼åˆ›å»ºUserMapperæ¥å£çš„ä»£ç†å®ç°ç±»å¯¹è±¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">UserMapper</span> <span class="n">userMapper</span> <span class="o">=</span> <span class="n">sqlSession</span><span class="o">.</span><span class="na">getMapper</span><span class="o">(</span><span class="n">UserMapper</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//è°ƒç”¨UserMapperæ¥å£ä¸­çš„æ–¹æ³•ï¼Œå°±å¯ä»¥æ ¹æ®UserMapperçš„å…¨ç±»ååŒ¹é…å…ƒç´ æ–‡ä»¶ï¼Œé€šè¿‡è°ƒç”¨çš„æ–¹æ³•ååŒ¹é…æ˜ å°„æ–‡ä»¶ä¸­çš„SQLæ ‡ç­¾ï¼Œå¹¶æ‰§è¡Œæ ‡ç­¾ä¸­çš„SQLè¯­å¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">userMapper</span><span class="o">.</span><span class="na">insertUser</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//æäº¤äº‹åŠ¡
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">//sqlSession.commit();
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;result:&#34;</span> <span class="o">+</span> <span class="n">result</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">    <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>æ­¤æ—¶éœ€è¦æ‰‹åŠ¨æäº¤äº‹åŠ¡ï¼Œå¦‚æœè¦è‡ªåŠ¨æäº¤äº‹åŠ¡ï¼Œåˆ™åœ¨è·å–sqlSessionå¯¹è±¡æ—¶ï¼Œä½¿ç”¨<code>SqlSession sqlSession = sqlSessionFactory.openSession(true);</code>ï¼Œä¼ å…¥ä¸€ä¸ªBooleanç±»å‹çš„å‚æ•°ï¼Œå€¼ä¸ºtrueï¼Œè¿™æ ·å°±å¯ä»¥è‡ªåŠ¨æäº¤</li>
</ul>
<h2 id="åŠ å…¥log4jæ—¥å¿—åŠŸèƒ½">åŠ å…¥log4jæ—¥å¿—åŠŸèƒ½</h2>
<ol>
<li>
<p>åŠ å…¥ä¾èµ–</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!-- log4jæ—¥å¿— --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;groupId&gt;</span>log4j<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;artifactId&gt;</span>log4j<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;version&gt;</span>1.2.17<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>åŠ å…¥log4jçš„é…ç½®æ–‡ä»¶</p>
<ul>
<li>log4jçš„é…ç½®æ–‡ä»¶åä¸ºlog4j.xmlï¼Œå­˜æ”¾çš„ä½ç½®æ˜¯src/main/resourcesç›®å½•ä¸‹</li>
<li>æ—¥å¿—çš„çº§åˆ«ï¼šFATAL(è‡´å‘½)&gt;ERROR(é”™è¯¯)&gt;WARN(è­¦å‘Š)&gt;INFO(ä¿¡æ¯)&gt;DEBUG(è°ƒè¯•) ä»å·¦åˆ°å³æ‰“å°çš„å†…å®¹è¶Šæ¥è¶Šè¯¦ç»†</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; ?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE log4j:configuration SYSTEM &#34;log4j.dtd&#34;&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;log4j:configuration</span> <span class="na">xmlns:log4j=</span><span class="s">&#34;http://jakarta.apache.org/log4j/&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">&#34;STDOUT&#34;</span> <span class="na">class=</span><span class="s">&#34;org.apache.log4j.ConsoleAppender&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&#34;Encoding&#34;</span> <span class="na">value=</span><span class="s">&#34;UTF-8&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;layout</span> <span class="na">class=</span><span class="s">&#34;org.apache.log4j.PatternLayout&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">			<span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&#34;ConversionPattern&#34;</span> <span class="na">value=</span><span class="s">&#34;%-5p %d{MM-dd HH:mm:ss,SSS} %m (%F:%L) \n&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/layout&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/appender&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;logger</span> <span class="na">name=</span><span class="s">&#34;java.sql&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;level</span> <span class="na">value=</span><span class="s">&#34;debug&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/logger&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;logger</span> <span class="na">name=</span><span class="s">&#34;org.apache.ibatis&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;level</span> <span class="na">value=</span><span class="s">&#34;info&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/logger&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;root&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;level</span> <span class="na">value=</span><span class="s">&#34;debug&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">&#34;STDOUT&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/root&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/log4j:configuration&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h1 id="æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£">æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£</h1>
<blockquote>
<p>æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­çš„æ ‡ç­¾å¿…é¡»æŒ‰ç…§å›ºå®šçš„é¡ºåº(æœ‰çš„æ ‡ç­¾å¯ä»¥ä¸å†™ï¼Œä½†é¡ºåºä¸€å®šä¸èƒ½ä¹±)ï¼š
propertiesã€settingsã€typeAliasesã€typeHandlersã€objectFactoryã€objectWrapperFactoryã€reflectorFactoryã€pluginsã€environmentsã€databaseIdProviderã€mappers</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; ?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE configuration
</span></span></span><span class="line"><span class="cl"><span class="cp">        PUBLIC &#34;-//MyBatis.org//DTD Config 3.0//EN&#34;
</span></span></span><span class="line"><span class="cl"><span class="cp">        &#34;http://MyBatis.org/dtd/MyBatis-3-config.dtd&#34;&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;configuration&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--å¼•å…¥propertiesæ–‡ä»¶ï¼Œæ­¤æ—¶å°±å¯ä»¥${å±æ€§å}çš„æ–¹å¼è®¿é—®å±æ€§å€¼--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;properties</span> <span class="na">resource=</span><span class="s">&#34;jdbc.properties&#34;</span><span class="nt">&gt;&lt;/properties&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;settings&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--å°†è¡¨ä¸­å­—æ®µçš„ä¸‹åˆ’çº¿è‡ªåŠ¨è½¬æ¢ä¸ºé©¼å³°--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">&#34;mapUnderscoreToCamelCase&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--å¼€å¯å»¶è¿ŸåŠ è½½--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">&#34;lazyLoadingEnabled&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/settings&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;typeAliases&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--
</span></span></span><span class="line"><span class="cl"><span class="c">        typeAliasï¼šè®¾ç½®æŸä¸ªå…·ä½“çš„ç±»å‹çš„åˆ«å
</span></span></span><span class="line"><span class="cl"><span class="c">        å±æ€§ï¼š
</span></span></span><span class="line"><span class="cl"><span class="c">        typeï¼šéœ€è¦è®¾ç½®åˆ«åçš„ç±»å‹çš„å…¨ç±»å
</span></span></span><span class="line"><span class="cl"><span class="c">        aliasï¼šè®¾ç½®æ­¤ç±»å‹çš„åˆ«åï¼Œä¸”åˆ«åä¸åŒºåˆ†å¤§å°å†™ã€‚è‹¥ä¸è®¾ç½®æ­¤å±æ€§ï¼Œè¯¥ç±»å‹æ‹¥æœ‰é»˜è®¤çš„åˆ«åï¼Œå³ç±»å
</span></span></span><span class="line"><span class="cl"><span class="c">        --&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--&lt;typeAlias type=&#34;com.atguigu.mybatis.bean.User&#34;&gt;&lt;/typeAlias&gt;--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--&lt;typeAlias type=&#34;com.atguigu.mybatis.bean.User&#34; alias=&#34;user&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="c">        &lt;/typeAlias&gt;--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--ä»¥åŒ…ä¸ºå•ä½ï¼Œè®¾ç½®æ”¹åŒ…ä¸‹æ‰€æœ‰çš„ç±»å‹éƒ½æ‹¥æœ‰é»˜è®¤çš„åˆ«åï¼Œå³ç±»åä¸”ä¸åŒºåˆ†å¤§å°å†™--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;package</span> <span class="na">name=</span><span class="s">&#34;com.atguigu.mybatis.bean&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/typeAliases&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--
</span></span></span><span class="line"><span class="cl"><span class="c">    environmentsï¼šè®¾ç½®å¤šä¸ªè¿æ¥æ•°æ®åº“çš„ç¯å¢ƒ
</span></span></span><span class="line"><span class="cl"><span class="c">    å±æ€§ï¼š
</span></span></span><span class="line"><span class="cl"><span class="c">	    defaultï¼šè®¾ç½®é»˜è®¤ä½¿ç”¨çš„ç¯å¢ƒçš„id
</span></span></span><span class="line"><span class="cl"><span class="c">    --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;environments</span> <span class="na">default=</span><span class="s">&#34;mysql_test&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--
</span></span></span><span class="line"><span class="cl"><span class="c">        environmentï¼šè®¾ç½®å…·ä½“çš„è¿æ¥æ•°æ®åº“çš„ç¯å¢ƒä¿¡æ¯
</span></span></span><span class="line"><span class="cl"><span class="c">        å±æ€§ï¼š
</span></span></span><span class="line"><span class="cl"><span class="c">	        idï¼šè®¾ç½®ç¯å¢ƒçš„å”¯ä¸€æ ‡è¯†ï¼Œå¯é€šè¿‡environmentsæ ‡ç­¾ä¸­çš„defaultè®¾ç½®æŸä¸€ä¸ªç¯å¢ƒçš„idï¼Œè¡¨ç¤ºé»˜è®¤ä½¿ç”¨çš„ç¯å¢ƒ
</span></span></span><span class="line"><span class="cl"><span class="c">        --&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;environment</span> <span class="na">id=</span><span class="s">&#34;mysql_test&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="c">&lt;!--
</span></span></span><span class="line"><span class="cl"><span class="c">            transactionManagerï¼šè®¾ç½®äº‹åŠ¡ç®¡ç†æ–¹å¼
</span></span></span><span class="line"><span class="cl"><span class="c">            å±æ€§ï¼š
</span></span></span><span class="line"><span class="cl"><span class="c">	            typeï¼šè®¾ç½®äº‹åŠ¡ç®¡ç†æ–¹å¼ï¼Œtype=&#34;JDBC|MANAGED&#34;
</span></span></span><span class="line"><span class="cl"><span class="c">	            type=&#34;JDBC&#34;ï¼šè®¾ç½®å½“å‰ç¯å¢ƒçš„äº‹åŠ¡ç®¡ç†éƒ½å¿…é¡»æ‰‹åŠ¨å¤„ç†
</span></span></span><span class="line"><span class="cl"><span class="c">	            type=&#34;MANAGED&#34;ï¼šè®¾ç½®äº‹åŠ¡è¢«ç®¡ç†ï¼Œä¾‹å¦‚springä¸­çš„AOP
</span></span></span><span class="line"><span class="cl"><span class="c">            --&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;transactionManager</span> <span class="na">type=</span><span class="s">&#34;JDBC&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="c">&lt;!--
</span></span></span><span class="line"><span class="cl"><span class="c">            dataSourceï¼šè®¾ç½®æ•°æ®æº
</span></span></span><span class="line"><span class="cl"><span class="c">            å±æ€§ï¼š
</span></span></span><span class="line"><span class="cl"><span class="c">	            typeï¼šè®¾ç½®æ•°æ®æºçš„ç±»å‹ï¼Œtype=&#34;POOLED|UNPOOLED|JNDI&#34;
</span></span></span><span class="line"><span class="cl"><span class="c">	            type=&#34;POOLED&#34;ï¼šä½¿ç”¨æ•°æ®åº“è¿æ¥æ± ï¼Œå³ä¼šå°†åˆ›å»ºçš„è¿æ¥è¿›è¡Œç¼“å­˜ï¼Œä¸‹æ¬¡ä½¿ç”¨å¯ä»¥ä»ç¼“å­˜ä¸­ç›´æ¥è·å–ï¼Œä¸éœ€è¦é‡æ–°åˆ›å»º
</span></span></span><span class="line"><span class="cl"><span class="c">	            type=&#34;UNPOOLED&#34;ï¼šä¸ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± ï¼Œå³æ¯æ¬¡ä½¿ç”¨è¿æ¥éƒ½éœ€è¦é‡æ–°åˆ›å»º
</span></span></span><span class="line"><span class="cl"><span class="c">	            type=&#34;JNDI&#34;ï¼šè°ƒç”¨ä¸Šä¸‹æ–‡ä¸­çš„æ•°æ®æº
</span></span></span><span class="line"><span class="cl"><span class="c">            --&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dataSource</span> <span class="na">type=</span><span class="s">&#34;POOLED&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="c">&lt;!--è®¾ç½®é©±åŠ¨ç±»çš„å…¨ç±»å--&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;driver&#34;</span> <span class="na">value=</span><span class="s">&#34;${jdbc.driver}&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="c">&lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„è¿æ¥åœ°å€--&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;url&#34;</span> <span class="na">value=</span><span class="s">&#34;${jdbc.url}&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="c">&lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„ç”¨æˆ·å--&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;username&#34;</span> <span class="na">value=</span><span class="s">&#34;${jdbc.username}&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="c">&lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„å¯†ç --&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;password&#34;</span> <span class="na">value=</span><span class="s">&#34;${jdbc.password}&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dataSource&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/environment&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/environments&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--å¼•å…¥æ˜ å°„æ–‡ä»¶--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;mappers&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!-- &lt;mapper resource=&#34;UserMapper.xml&#34;/&gt; --&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!--
</span></span></span><span class="line"><span class="cl"><span class="c">        ä»¥åŒ…ä¸ºå•ä½ï¼Œå°†åŒ…ä¸‹æ‰€æœ‰çš„æ˜ å°„æ–‡ä»¶å¼•å…¥æ ¸å¿ƒé…ç½®æ–‡ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c">        æ³¨æ„ï¼š
</span></span></span><span class="line"><span class="cl"><span class="c">			1. æ­¤æ–¹å¼å¿…é¡»ä¿è¯mapperæ¥å£å’Œmapperæ˜ å°„æ–‡ä»¶å¿…é¡»åœ¨ç›¸åŒçš„åŒ…ä¸‹
</span></span></span><span class="line"><span class="cl"><span class="c">			2. mapperæ¥å£è¦å’Œmapperæ˜ å°„æ–‡ä»¶çš„åå­—ä¸€è‡´
</span></span></span><span class="line"><span class="cl"><span class="c">        --&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;package</span> <span class="na">name=</span><span class="s">&#34;com.atguigu.mybatis.mapper&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/mappers&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/configuration&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><img src="/D:%5c%e8%bf%85%e9%9b%b7%e4%b8%8b%e8%bd%bd%5cMyBatis%5cMyBatis%5cResources%5cmapper%e6%8e%a5%e5%8f%a3%e5%92%8cmapper%e6%98%a0%e5%b0%84%e6%96%87%e4%bb%b6%e5%9c%a8%e5%90%8c%e4%b8%80%e5%8c%85%e4%b8%8b.png"
	
	
	
	loading="lazy"
	
	
></li>
</ul>
<h1 id="é»˜è®¤çš„ç±»å‹åˆ«å">é»˜è®¤çš„ç±»å‹åˆ«å</h1>
<p><img src="/D:%5c%e8%bf%85%e9%9b%b7%e4%b8%8b%e8%bd%bd%5cMyBatis%5cMyBatis%5cResources%5c%e9%bb%98%e8%ae%a4%e7%9a%84%e7%b1%bb%e5%9e%8b%e5%88%ab%e5%90%8d1.png"
	
	
	
	loading="lazy"
	
	
>
<img src="/D:%5c%e8%bf%85%e9%9b%b7%e4%b8%8b%e8%bd%bd%5cMyBatis%5cMyBatis%5cResources%5c%e9%bb%98%e8%ae%a4%e7%9a%84%e7%b1%bb%e5%9e%8b%e5%88%ab%e5%90%8d2.png"
	
	
	
	loading="lazy"
	
	
></p>
<h1 id="mybatisçš„å¢åˆ æ”¹æŸ¥">MyBatisçš„å¢åˆ æ”¹æŸ¥</h1>
<ol>
<li>
<p>æ·»åŠ </p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--int insertUser();--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;insert</span> <span class="na">id=</span><span class="s">&#34;insertUser&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	insert into t_user values(null,&#39;admin&#39;,&#39;123456&#39;,23,&#39;ç”·&#39;,&#39;12345@qq.com&#39;)
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/insert&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>åˆ é™¤</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--int deleteUser();--&gt;</span>
</span></span><span class="line"><span class="cl"> <span class="nt">&lt;delete</span> <span class="na">id=</span><span class="s">&#34;deleteUser&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">     delete from t_user where id = 6
</span></span><span class="line"><span class="cl"> <span class="nt">&lt;/delete&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>ä¿®æ”¹</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--int updateUser();--&gt;</span>
</span></span><span class="line"><span class="cl"> <span class="nt">&lt;update</span> <span class="na">id=</span><span class="s">&#34;updateUser&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">     update t_user set username = &#39;å¼ ä¸‰&#39; where id = 5
</span></span><span class="line"><span class="cl"> <span class="nt">&lt;/update&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>æŸ¥è¯¢ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--User getUserById();--&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getUserById&#34;</span> <span class="na">resultType=</span><span class="s">&#34;com.atguigu.mybatis.bean.User&#34;</span><span class="nt">&gt;</span>  
</span></span><span class="line"><span class="cl">	select * from t_user where id = 2  
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>æŸ¥è¯¢é›†åˆ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--List&lt;User&gt; getUserList();--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getUserList&#34;</span> <span class="na">resultType=</span><span class="s">&#34;com.atguigu.mybatis.bean.User&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	select * from t_user
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<ul>
<li>
<p>æ³¨æ„ï¼š</p>
<ol>
<li>æŸ¥è¯¢çš„æ ‡ç­¾selectå¿…é¡»è®¾ç½®å±æ€§resultTypeæˆ–resultMapï¼Œç”¨äºè®¾ç½®å®ä½“ç±»å’Œæ•°æ®åº“è¡¨çš„æ˜ å°„å…³ç³»
<ul>
<li>resultTypeï¼šè‡ªåŠ¨æ˜ å°„ï¼Œç”¨äºå±æ€§åå’Œè¡¨ä¸­å­—æ®µåä¸€è‡´çš„æƒ…å†µ</li>
<li>resultMapï¼šè‡ªå®šä¹‰æ˜ å°„ï¼Œç”¨äºä¸€å¯¹å¤šæˆ–å¤šå¯¹ä¸€æˆ–å­—æ®µåå’Œå±æ€§åä¸ä¸€è‡´çš„æƒ…å†µ</li>
</ul>
</li>
<li>å½“æŸ¥è¯¢çš„æ•°æ®ä¸ºå¤šæ¡æ—¶ï¼Œä¸èƒ½ä½¿ç”¨å®ä½“ç±»ä½œä¸ºè¿”å›å€¼ï¼Œåªèƒ½ä½¿ç”¨é›†åˆï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸TooManyResultsExceptionï¼›ä½†æ˜¯è‹¥æŸ¥è¯¢çš„æ•°æ®åªæœ‰ä¸€æ¡ï¼Œå¯ä»¥ä½¿ç”¨å®ä½“ç±»æˆ–é›†åˆä½œä¸ºè¿”å›å€¼</li>
</ol>
</li>
</ul>
<h1 id="mybatisè·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼é‡ç‚¹">MyBatisè·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼ï¼ˆé‡ç‚¹ï¼‰</h1>
<ul>
<li>MyBatisè·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼ï¼š${}å’Œ#{}</li>
<li>${}çš„æœ¬è´¨å°±æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œ#{}çš„æœ¬è´¨å°±æ˜¯å ä½ç¬¦èµ‹å€¼</li>
<li>${}ä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥çš„æ–¹å¼æ‹¼æ¥sqlï¼Œè‹¥ä¸ºå­—ç¬¦ä¸²ç±»å‹æˆ–æ—¥æœŸç±»å‹çš„å­—æ®µè¿›è¡Œèµ‹å€¼æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·ï¼›ä½†æ˜¯#{}ä½¿ç”¨å ä½ç¬¦èµ‹å€¼çš„æ–¹å¼æ‹¼æ¥sqlï¼Œæ­¤æ—¶ä¸ºå­—ç¬¦ä¸²ç±»å‹æˆ–æ—¥æœŸç±»å‹çš„å­—æ®µè¿›è¡Œèµ‹å€¼æ—¶ï¼Œå¯ä»¥è‡ªåŠ¨æ·»åŠ å•å¼•å·</li>
</ul>
<h2 id="å•ä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°">å•ä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°</h2>
<ul>
<li>è‹¥mapperæ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ä¸ºå•ä¸ªçš„å­—é¢é‡ç±»å‹ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨${}å’Œ#{}ä»¥ä»»æ„çš„åç§°ï¼ˆæœ€å¥½è§åè¯†æ„ï¼‰è·å–å‚æ•°çš„å€¼ï¼Œæ³¨æ„${}éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--User getUserByUsername(String username);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getUserByUsername&#34;</span> <span class="na">resultType=</span><span class="s">&#34;User&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	select * from t_user where username = #{username}
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--User getUserByUsername(String username);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getUserByUsername&#34;</span> <span class="na">resultType=</span><span class="s">&#34;User&#34;</span><span class="nt">&gt;</span>  
</span></span><span class="line"><span class="cl">	select * from t_user where username = &#39;${username}&#39;  
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="å¤šä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°">å¤šä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°</h2>
<ul>
<li>
<p>è‹¥mapperæ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ä¸ºå¤šä¸ªæ—¶ï¼Œæ­¤æ—¶MyBatisä¼šè‡ªåŠ¨å°†è¿™äº›å‚æ•°æ”¾åœ¨ä¸€ä¸ªmapé›†åˆä¸­</p>
<ol>
<li>ä»¥arg0,arg1&hellip;ä¸ºé”®ï¼Œä»¥å‚æ•°ä¸ºå€¼ï¼›</li>
<li>ä»¥param1,param2&hellip;ä¸ºé”®ï¼Œä»¥å‚æ•°ä¸ºå€¼ï¼›</li>
</ol>
</li>
<li>
<p>å› æ­¤åªéœ€è¦é€šè¿‡${}å’Œ#{}è®¿é—®mapé›†åˆçš„é”®å°±å¯ä»¥è·å–ç›¸å¯¹åº”çš„å€¼ï¼Œæ³¨æ„${}éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨argæˆ–è€…paraméƒ½è¡Œï¼Œè¦æ³¨æ„çš„æ˜¯ï¼Œargæ˜¯ä»arg0å¼€å§‹çš„ï¼Œparamæ˜¯ä»param1å¼€å§‹çš„</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--User checkLogin(String username,String password);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;checkLogin&#34;</span> <span class="na">resultType=</span><span class="s">&#34;User&#34;</span><span class="nt">&gt;</span>  
</span></span><span class="line"><span class="cl">	select * from t_user where username = #{arg0} and password = #{arg1}  
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--User checkLogin(String username,String password);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;checkLogin&#34;</span> <span class="na">resultType=</span><span class="s">&#34;User&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	select * from t_user where username = &#39;${param1}&#39; and password = &#39;${param2}&#39;
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="mapé›†åˆç±»å‹çš„å‚æ•°">mapé›†åˆç±»å‹çš„å‚æ•°</h2>
<ul>
<li>è‹¥mapperæ¥å£ä¸­çš„æ–¹æ³•éœ€è¦çš„å‚æ•°ä¸ºå¤šä¸ªæ—¶ï¼Œæ­¤æ—¶å¯ä»¥æ‰‹åŠ¨åˆ›å»ºmapé›†åˆï¼Œå°†è¿™äº›æ•°æ®æ”¾åœ¨mapä¸­åªéœ€è¦é€šè¿‡${}å’Œ#{}è®¿é—®mapé›†åˆçš„é”®å°±å¯ä»¥è·å–ç›¸å¯¹åº”çš„å€¼ï¼Œæ³¨æ„${}éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--User checkLoginByMap(Map&lt;String,Object&gt; map);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;checkLoginByMap&#34;</span> <span class="na">resultType=</span><span class="s">&#34;User&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	select * from t_user where username = #{username} and password = #{password}
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">checkLoginByMap</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">SqlSession</span> <span class="n">sqlSession</span> <span class="o">=</span> <span class="n">SqlSessionUtils</span><span class="o">.</span><span class="na">getSqlSession</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">	<span class="n">ParameterMapper</span> <span class="n">mapper</span> <span class="o">=</span> <span class="n">sqlSession</span><span class="o">.</span><span class="na">getMapper</span><span class="o">(</span><span class="n">ParameterMapper</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>
</span></span><span class="line"><span class="cl">	<span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&#34;usermane&#34;</span><span class="o">,</span><span class="s">&#34;admin&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">map</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&#34;password&#34;</span><span class="o">,</span><span class="s">&#34;123456&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="na">checkLoginByMap</span><span class="o">(</span><span class="n">map</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">user</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="å®ä½“ç±»ç±»å‹çš„å‚æ•°">å®ä½“ç±»ç±»å‹çš„å‚æ•°</h2>
<ul>
<li>è‹¥mapperæ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ä¸ºå®ä½“ç±»å¯¹è±¡æ—¶æ­¤æ—¶å¯ä»¥ä½¿ç”¨${}å’Œ#{}ï¼Œé€šè¿‡è®¿é—®å®ä½“ç±»å¯¹è±¡ä¸­çš„å±æ€§åè·å–å±æ€§å€¼ï¼Œæ³¨æ„${}éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--int insertUser(User user);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;insert</span> <span class="na">id=</span><span class="s">&#34;insertUser&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	insert into t_user values(null,#{username},#{password},#{age},#{sex},#{email})
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/insert&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">insertUser</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">SqlSession</span> <span class="n">sqlSession</span> <span class="o">=</span> <span class="n">SqlSessionUtils</span><span class="o">.</span><span class="na">getSqlSession</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">	<span class="n">ParameterMapper</span> <span class="n">mapper</span> <span class="o">=</span> <span class="n">sqlSession</span><span class="o">.</span><span class="na">getMapper</span><span class="o">(</span><span class="n">ParameterMapper</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="k">new</span> <span class="n">User</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span><span class="s">&#34;Tom&#34;</span><span class="o">,</span><span class="s">&#34;123456&#34;</span><span class="o">,</span><span class="n">12</span><span class="o">,</span><span class="s">&#34;ç”·&#34;</span><span class="o">,</span><span class="s">&#34;123@321.com&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">mapper</span><span class="o">.</span><span class="na">insertUser</span><span class="o">(</span><span class="n">user</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="ä½¿ç”¨paramæ ‡è¯†å‚æ•°">ä½¿ç”¨@Paramæ ‡è¯†å‚æ•°</h2>
<ul>
<li>
<p>å¯ä»¥é€šè¿‡@Paramæ³¨è§£æ ‡è¯†mapperæ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ï¼Œæ­¤æ—¶ï¼Œä¼šå°†è¿™äº›å‚æ•°æ”¾åœ¨mapé›†åˆä¸­</p>
<ol>
<li>ä»¥@Paramæ³¨è§£çš„valueå±æ€§å€¼ä¸ºé”®ï¼Œä»¥å‚æ•°ä¸ºå€¼ï¼›</li>
<li>ä»¥param1,param2&hellip;ä¸ºé”®ï¼Œä»¥å‚æ•°ä¸ºå€¼ï¼›</li>
</ol>
</li>
<li>
<p>åªéœ€è¦é€šè¿‡${}å’Œ#{}è®¿é—®mapé›†åˆçš„é”®å°±å¯ä»¥è·å–ç›¸å¯¹åº”çš„å€¼ï¼Œæ³¨æ„${}éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--User CheckLoginByParam(@Param(&#34;username&#34;) String username, @Param(&#34;password&#34;) String password);--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;CheckLoginByParam&#34;</span> <span class="na">resultType=</span><span class="s">&#34;User&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">        select * from t_user where username = #{username} and password = #{password}
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">checkLoginByParam</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">SqlSession</span> <span class="n">sqlSession</span> <span class="o">=</span> <span class="n">SqlSessionUtils</span><span class="o">.</span><span class="na">getSqlSession</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">	<span class="n">ParameterMapper</span> <span class="n">mapper</span> <span class="o">=</span> <span class="n">sqlSession</span><span class="o">.</span><span class="na">getMapper</span><span class="o">(</span><span class="n">ParameterMapper</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">mapper</span><span class="o">.</span><span class="na">CheckLoginByParam</span><span class="o">(</span><span class="s">&#34;admin&#34;</span><span class="o">,</span><span class="s">&#34;123456&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="æ€»ç»“">æ€»ç»“</h2>
<ul>
<li>
<p>å»ºè®®åˆ†æˆä¸¤ç§æƒ…å†µè¿›è¡Œå¤„ç†</p>
<ol>
<li>å®ä½“ç±»ç±»å‹çš„å‚æ•°</li>
<li>ä½¿ç”¨@Paramæ ‡è¯†å‚æ•°</li>
</ol>
</li>
</ul>
<h1 id="mybatisçš„å„ç§æŸ¥è¯¢åŠŸèƒ½">MyBatisçš„å„ç§æŸ¥è¯¢åŠŸèƒ½</h1>
<ol>
<li>å¦‚æœæŸ¥è¯¢å‡ºçš„æ•°æ®åªæœ‰ä¸€æ¡ï¼Œå¯ä»¥é€šè¿‡
<ol>
<li>å®ä½“ç±»å¯¹è±¡æ¥æ”¶</li>
<li>Listé›†åˆæ¥æ”¶</li>
<li>Mapé›†åˆæ¥æ”¶ï¼Œç»“æœ<code>{password=123456, sex=ç”·, id=1, age=23, username=admin}</code></li>
</ol>
</li>
<li>å¦‚æœæŸ¥è¯¢å‡ºçš„æ•°æ®æœ‰å¤šæ¡ï¼Œä¸€å®šä¸èƒ½ç”¨å®ä½“ç±»å¯¹è±¡æ¥æ”¶ï¼Œä¼šæŠ›å¼‚å¸¸TooManyResultsExceptionï¼Œå¯ä»¥é€šè¿‡
<ol>
<li>å®ä½“ç±»ç±»å‹çš„LIsté›†åˆæ¥æ”¶</li>
<li>Mapç±»å‹çš„LIsté›†åˆæ¥æ”¶</li>
<li>åœ¨mapperæ¥å£çš„æ–¹æ³•ä¸Šæ·»åŠ @MapKeyæ³¨è§£</li>
</ol>
</li>
</ol>
<h2 id="æŸ¥è¯¢ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡">æŸ¥è¯¢ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * æ ¹æ®ç”¨æˆ·idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @param id
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @return
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="n">User</span> <span class="nf">getUserById</span><span class="o">(</span><span class="nd">@Param</span><span class="o">(</span><span class="s">&#34;id&#34;</span><span class="o">)</span> <span class="kt">int</span> <span class="n">id</span><span class="o">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--User getUserById(@Param(&#34;id&#34;) int id);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getUserById&#34;</span> <span class="na">resultType=</span><span class="s">&#34;User&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	select * from t_user where id = #{id}
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="æŸ¥è¯¢ä¸€ä¸ªlisté›†åˆ">æŸ¥è¯¢ä¸€ä¸ªListé›†åˆ</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @return
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="nf">getUserList</span><span class="o">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--List&lt;User&gt; getUserList();--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getUserList&#34;</span> <span class="na">resultType=</span><span class="s">&#34;User&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	select * from t_user
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="æŸ¥è¯¢å•ä¸ªæ•°æ®">æŸ¥è¯¢å•ä¸ªæ•°æ®</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/**  
</span></span></span><span class="line"><span class="cl"><span class="cm"> * æŸ¥è¯¢ç”¨æˆ·çš„æ€»è®°å½•æ•°  
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @return  
</span></span></span><span class="line"><span class="cl"><span class="cm"> * åœ¨MyBatisä¸­ï¼Œå¯¹äºJavaä¸­å¸¸ç”¨çš„ç±»å‹éƒ½è®¾ç½®äº†ç±»å‹åˆ«å  
</span></span></span><span class="line"><span class="cl"><span class="cm"> * ä¾‹å¦‚ï¼šjava.lang.Integer--&gt;int|integer  
</span></span></span><span class="line"><span class="cl"><span class="cm"> * ä¾‹å¦‚ï¼šint--&gt;_int|_integer  
</span></span></span><span class="line"><span class="cl"><span class="cm"> * ä¾‹å¦‚ï¼šMap--&gt;map,List--&gt;list  
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>  
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">getCount</span><span class="o">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--int getCount();--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getCount&#34;</span> <span class="na">resultType=</span><span class="s">&#34;_integer&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	select count(id) from t_user
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="æŸ¥è¯¢ä¸€æ¡æ•°æ®ä¸ºmapé›†åˆ">æŸ¥è¯¢ä¸€æ¡æ•°æ®ä¸ºmapé›†åˆ</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/**  
</span></span></span><span class="line"><span class="cl"><span class="cm"> * æ ¹æ®ç”¨æˆ·idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ä¸ºmapé›†åˆ  
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @param id  
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @return  
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>  
</span></span><span class="line"><span class="cl"><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="nf">getUserToMap</span><span class="o">(</span><span class="nd">@Param</span><span class="o">(</span><span class="s">&#34;id&#34;</span><span class="o">)</span> <span class="kt">int</span> <span class="n">id</span><span class="o">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--Map&lt;String, Object&gt; getUserToMap(@Param(&#34;id&#34;) int id);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getUserToMap&#34;</span> <span class="na">resultType=</span><span class="s">&#34;map&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	select * from t_user where id = #{id}
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--ç»“æœï¼š{password=123456, sex=ç”·, id=1, age=23, username=admin}--&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="æŸ¥è¯¢å¤šæ¡æ•°æ®ä¸ºmapé›†åˆ">æŸ¥è¯¢å¤šæ¡æ•°æ®ä¸ºmapé›†åˆ</h2>
<h3 id="æ–¹æ³•ä¸€">æ–¹æ³•ä¸€</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/**  
</span></span></span><span class="line"><span class="cl"><span class="cm"> * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯ä¸ºmapé›†åˆ  
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @return  
</span></span></span><span class="line"><span class="cl"><span class="cm"> * å°†è¡¨ä¸­çš„æ•°æ®ä»¥mapé›†åˆçš„æ–¹å¼æŸ¥è¯¢ï¼Œä¸€æ¡æ•°æ®å¯¹åº”ä¸€ä¸ªmapï¼›è‹¥æœ‰å¤šæ¡æ•°æ®ï¼Œå°±ä¼šäº§ç”Ÿå¤šä¸ªmapé›†åˆï¼Œæ­¤æ—¶å¯ä»¥å°†è¿™äº›mapæ”¾åœ¨ä¸€ä¸ªlisté›†åˆä¸­è·å–  
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>  
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;&gt;</span> <span class="nf">getAllUserToMap</span><span class="o">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--Map&lt;String, Object&gt; getAllUserToMap();--&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getAllUserToMap&#34;</span> <span class="na">resultType=</span><span class="s">&#34;map&#34;</span><span class="nt">&gt;</span>  
</span></span><span class="line"><span class="cl">	select * from t_user  
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--
</span></span></span><span class="line"><span class="cl"><span class="c">	ç»“æœï¼š
</span></span></span><span class="line"><span class="cl"><span class="c">	[{password=123456, sex=ç”·, id=1, age=23, username=admin},
</span></span></span><span class="line"><span class="cl"><span class="c">	{password=123456, sex=ç”·, id=2, age=23, username=å¼ ä¸‰},
</span></span></span><span class="line"><span class="cl"><span class="c">	{password=123456, sex=ç”·, id=3, age=23, username=å¼ ä¸‰}]
</span></span></span><span class="line"><span class="cl"><span class="c">--&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="æ–¹æ³•äºŒ">æ–¹æ³•äºŒ</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯ä¸ºmapé›†åˆ
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @return
</span></span></span><span class="line"><span class="cl"><span class="cm"> * å°†è¡¨ä¸­çš„æ•°æ®ä»¥mapé›†åˆçš„æ–¹å¼æŸ¥è¯¢ï¼Œä¸€æ¡æ•°æ®å¯¹åº”ä¸€ä¸ªmapï¼›è‹¥æœ‰å¤šæ¡æ•°æ®ï¼Œå°±ä¼šäº§ç”Ÿå¤šä¸ªmapé›†åˆï¼Œå¹¶ä¸”æœ€ç»ˆè¦ä»¥ä¸€ä¸ªmapçš„æ–¹å¼è¿”å›æ•°æ®ï¼Œæ­¤æ—¶éœ€è¦é€šè¿‡@MapKeyæ³¨è§£è®¾ç½®mapé›†åˆçš„é”®ï¼Œå€¼æ˜¯æ¯æ¡æ•°æ®æ‰€å¯¹åº”çš„mapé›†åˆ
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="nd">@MapKey</span><span class="o">(</span><span class="s">&#34;id&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="nf">getAllUserToMap</span><span class="o">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--Map&lt;String, Object&gt; getAllUserToMap();--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getAllUserToMap&#34;</span> <span class="na">resultType=</span><span class="s">&#34;map&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	select * from t_user
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--
</span></span></span><span class="line"><span class="cl"><span class="c">	ç»“æœï¼š
</span></span></span><span class="line"><span class="cl"><span class="c">	{
</span></span></span><span class="line"><span class="cl"><span class="c">	1={password=123456, sex=ç”·, id=1, age=23, username=admin},
</span></span></span><span class="line"><span class="cl"><span class="c">	2={password=123456, sex=ç”·, id=2, age=23, username=å¼ ä¸‰},
</span></span></span><span class="line"><span class="cl"><span class="c">	3={password=123456, sex=ç”·, id=3, age=23, username=å¼ ä¸‰}
</span></span></span><span class="line"><span class="cl"><span class="c">	}
</span></span></span><span class="line"><span class="cl"><span class="c">--&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="ç‰¹æ®Šsqlçš„æ‰§è¡Œ">ç‰¹æ®ŠSQLçš„æ‰§è¡Œ</h1>
<h2 id="æ¨¡ç³ŠæŸ¥è¯¢">æ¨¡ç³ŠæŸ¥è¯¢</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * æ ¹æ®ç”¨æˆ·åè¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @param username 
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @return java.util.List&lt;com.atguigu.mybatis.pojo.User&gt;
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @date 2022/2/26 21:56
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="nf">getUserByLike</span><span class="o">(</span><span class="nd">@Param</span><span class="o">(</span><span class="s">&#34;username&#34;</span><span class="o">)</span> <span class="n">String</span> <span class="n">username</span><span class="o">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--List&lt;User&gt; getUserByLike(@Param(&#34;username&#34;) String username);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getUserByLike&#34;</span> <span class="na">resultType=</span><span class="s">&#34;User&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="c">&lt;!--select * from t_user where username like &#39;%${mohu}%&#39;--&gt;</span>  
</span></span><span class="line"><span class="cl">	<span class="c">&lt;!--select * from t_user where username like concat(&#39;%&#39;,#{mohu},&#39;%&#39;)--&gt;</span>  
</span></span><span class="line"><span class="cl">	select * from t_user where username like &#34;%&#34;#{mohu}&#34;%&#34;
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>å…¶ä¸­<code>select * from t_user where username like &quot;%&quot;#{mohu}&quot;%&quot;</code>æ˜¯æœ€å¸¸ç”¨çš„</li>
</ul>
<h2 id="æ‰¹é‡åˆ é™¤">æ‰¹é‡åˆ é™¤</h2>
<ul>
<li>åªèƒ½ä½¿ç”¨${}ï¼Œå¦‚æœä½¿ç”¨#{}ï¼Œåˆ™è§£æåçš„sqlè¯­å¥ä¸º<code>delete from t_user where id in ('1,2,3')</code>ï¼Œè¿™æ ·æ˜¯å°†<code>1,2,3</code>çœ‹åšæ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œåªæœ‰idä¸º<code>1,2,3</code>çš„æ•°æ®ä¼šè¢«åˆ é™¤ã€‚æ­£ç¡®çš„è¯­å¥åº”è¯¥æ˜¯<code>delete from t_user where id in (1,2,3)</code>ï¼Œæˆ–è€…<code>delete from t_user where id in ('1','2','3')</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * æ ¹æ®idæ‰¹é‡åˆ é™¤
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @param ids 
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @return int
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @date 2022/2/26 22:06
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="nf">deleteMore</span><span class="o">(</span><span class="nd">@Param</span><span class="o">(</span><span class="s">&#34;ids&#34;</span><span class="o">)</span> <span class="n">String</span> <span class="n">ids</span><span class="o">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;delete</span> <span class="na">id=</span><span class="s">&#34;deleteMore&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	delete from t_user where id in (${ids})
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/delete&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="c1">//æµ‹è¯•ç±»
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">deleteMore</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">SqlSession</span> <span class="n">sqlSession</span> <span class="o">=</span> <span class="n">SqlSessionUtils</span><span class="o">.</span><span class="na">getSqlSession</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">	<span class="n">SQLMapper</span> <span class="n">mapper</span> <span class="o">=</span> <span class="n">sqlSession</span><span class="o">.</span><span class="na">getMapper</span><span class="o">(</span><span class="n">SQLMapper</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="na">deleteMore</span><span class="o">(</span><span class="s">&#34;1,2,3,8&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="åŠ¨æ€è®¾ç½®è¡¨å">åŠ¨æ€è®¾ç½®è¡¨å</h2>
<ul>
<li>åªèƒ½ä½¿ç”¨${}ï¼Œå› ä¸ºè¡¨åä¸èƒ½åŠ å•å¼•å·</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * æŸ¥è¯¢æŒ‡å®šè¡¨ä¸­çš„æ•°æ®
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @param tableName 
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @return java.util.List&lt;com.atguigu.mybatis.pojo.User&gt;
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @date 2022/2/27 14:41
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span> <span class="nf">getUserByTable</span><span class="o">(</span><span class="nd">@Param</span><span class="o">(</span><span class="s">&#34;tableName&#34;</span><span class="o">)</span> <span class="n">String</span> <span class="n">tableName</span><span class="o">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--List&lt;User&gt; getUserByTable(@Param(&#34;tableName&#34;) String tableName);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getUserByTable&#34;</span> <span class="na">resultType=</span><span class="s">&#34;User&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	select * from ${tableName}
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢çš„ä¸»é”®">æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢çš„ä¸»é”®</h2>
<ul>
<li>
<p>ä½¿ç”¨åœºæ™¯</p>
</li>
<li>
<p>t_clazz(clazz_id,clazz_name)</p>
<ul>
<li>t_student(student_id,student_name,clazz_id)</li>
</ul>
<ol>
<li>æ·»åŠ ç­çº§ä¿¡æ¯</li>
<li>è·å–æ–°æ·»åŠ çš„ç­çº§çš„id</li>
<li>ä¸ºç­çº§åˆ†é…å­¦ç”Ÿï¼Œå³å°†æŸå­¦çš„ç­çº§idä¿®æ”¹ä¸ºæ–°æ·»åŠ çš„ç­çº§çš„id</li>
</ol>
</li>
<li>
<p>åœ¨mapper.xmlä¸­è®¾ç½®ä¸¤ä¸ªå±æ€§</p>
</li>
<li>
<p>useGeneratedKeysï¼šè®¾ç½®ä½¿ç”¨è‡ªå¢çš„ä¸»é”®</p>
<ul>
<li>keyPropertyï¼šå› ä¸ºå¢åˆ æ”¹æœ‰ç»Ÿä¸€çš„è¿”å›å€¼æ˜¯å—å½±å“çš„è¡Œæ•°ï¼Œå› æ­¤åªèƒ½å°†è·å–çš„è‡ªå¢çš„ä¸»é”®æ”¾åœ¨ä¼ è¾“çš„å‚æ•°userå¯¹è±¡çš„æŸä¸ªå±æ€§ä¸­</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * æ·»åŠ ç”¨æˆ·ä¿¡æ¯
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @param user 
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @date 2022/2/27 15:04
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">insertUser</span><span class="o">(</span><span class="n">User</span> <span class="n">user</span><span class="o">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--void insertUser(User user);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;insert</span> <span class="na">id=</span><span class="s">&#34;insertUser&#34;</span> <span class="na">useGeneratedKeys=</span><span class="s">&#34;true&#34;</span> <span class="na">keyProperty=</span><span class="s">&#34;id&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	insert into t_user values (null,#{username},#{password},#{age},#{sex},#{email})
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/insert&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="c1">//æµ‹è¯•ç±»
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">insertUser</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">SqlSession</span> <span class="n">sqlSession</span> <span class="o">=</span> <span class="n">SqlSessionUtils</span><span class="o">.</span><span class="na">getSqlSession</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">	<span class="n">SQLMapper</span> <span class="n">mapper</span> <span class="o">=</span> <span class="n">sqlSession</span><span class="o">.</span><span class="na">getMapper</span><span class="o">(</span><span class="n">SQLMapper</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="k">new</span> <span class="n">User</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span> <span class="s">&#34;ton&#34;</span><span class="o">,</span> <span class="s">&#34;123&#34;</span><span class="o">,</span> <span class="n">23</span><span class="o">,</span> <span class="s">&#34;ç”·&#34;</span><span class="o">,</span> <span class="s">&#34;123@321.com&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">mapper</span><span class="o">.</span><span class="na">insertUser</span><span class="o">(</span><span class="n">user</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">user</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//è¾“å‡ºï¼šuser{id=10, username=&#39;ton&#39;, password=&#39;123&#39;, age=23, sex=&#39;ç”·&#39;, email=&#39;123@321.com&#39;}ï¼Œè‡ªå¢ä¸»é”®å­˜æ”¾åˆ°äº†userçš„idå±æ€§ä¸­
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="è‡ªå®šä¹‰æ˜ å°„resultmap">è‡ªå®šä¹‰æ˜ å°„resultMap</h1>
<h2 id="resultmapå¤„ç†å­—æ®µå’Œå±æ€§çš„æ˜ å°„å…³ç³»">resultMapå¤„ç†å­—æ®µå’Œå±æ€§çš„æ˜ å°„å…³ç³»</h2>
<ul>
<li>resultMapï¼šè®¾ç½®è‡ªå®šä¹‰æ˜ å°„</li>
<li>å±æ€§ï¼š
<ul>
<li>idï¼šè¡¨ç¤ºè‡ªå®šä¹‰æ˜ å°„çš„å”¯ä¸€æ ‡è¯†ï¼Œä¸èƒ½é‡å¤</li>
<li>typeï¼šæŸ¥è¯¢çš„æ•°æ®è¦æ˜ å°„çš„å®ä½“ç±»çš„ç±»å‹</li>
<li>å­æ ‡ç­¾ï¼š</li>
<li>idï¼šè®¾ç½®ä¸»é”®çš„æ˜ å°„å…³ç³»
<ul>
<li>resultï¼šè®¾ç½®æ™®é€šå­—æ®µçš„æ˜ å°„å…³ç³»</li>
<li>å­æ ‡ç­¾å±æ€§ï¼š</li>
<li>propertyï¼šè®¾ç½®æ˜ å°„å…³ç³»ä¸­å®ä½“ç±»ä¸­çš„å±æ€§å
<ul>
<li>columnï¼šè®¾ç½®æ˜ å°„å…³ç³»ä¸­è¡¨ä¸­çš„å­—æ®µå</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>è‹¥å­—æ®µåå’Œå®ä½“ç±»ä¸­çš„å±æ€§åä¸ä¸€è‡´ï¼Œåˆ™å¯ä»¥é€šè¿‡resultMapè®¾ç½®è‡ªå®šä¹‰æ˜ å°„ï¼Œå³ä½¿å­—æ®µåå’Œå±æ€§åä¸€è‡´çš„å±æ€§ä¹Ÿè¦æ˜ å°„ï¼Œä¹Ÿå°±æ˜¯å…¨éƒ¨å±æ€§éƒ½è¦åˆ—å‡ºæ¥</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;resultMap</span> <span class="na">id=</span><span class="s">&#34;empResultMap&#34;</span> <span class="na">type=</span><span class="s">&#34;Emp&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;id</span> <span class="na">property=</span><span class="s">&#34;eid&#34;</span> <span class="na">column=</span><span class="s">&#34;eid&#34;</span><span class="nt">&gt;&lt;/id&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;empName&#34;</span> <span class="na">column=</span><span class="s">&#34;emp_name&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;age&#34;</span> <span class="na">column=</span><span class="s">&#34;age&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;sex&#34;</span> <span class="na">column=</span><span class="s">&#34;sex&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;email&#34;</span> <span class="na">column=</span><span class="s">&#34;email&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/resultMap&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--List&lt;Emp&gt; getAllEmp();--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getAllEmp&#34;</span> <span class="na">resultMap=</span><span class="s">&#34;empResultMap&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	select * from t_emp
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>è‹¥å­—æ®µåå’Œå®ä½“ç±»ä¸­çš„å±æ€§åä¸ä¸€è‡´ï¼Œä½†æ˜¯å­—æ®µåç¬¦åˆæ•°æ®åº“çš„è§„åˆ™ï¼ˆä½¿ç”¨_ï¼‰ï¼Œå®ä½“ç±»ä¸­çš„å±æ€§åç¬¦åˆJavaçš„è§„åˆ™ï¼ˆä½¿ç”¨é©¼å³°ï¼‰ã€‚æ­¤æ—¶ä¹Ÿå¯é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼å¤„ç†å­—æ®µåå’Œå®ä½“ç±»ä¸­çš„å±æ€§çš„æ˜ å°„å…³ç³»</p>
<ol>
<li>å¯ä»¥é€šè¿‡ä¸ºå­—æ®µèµ·åˆ«åçš„æ–¹å¼ï¼Œä¿è¯å’Œå®ä½“ç±»ä¸­çš„å±æ€§åä¿æŒä¸€è‡´
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--List&lt;Emp&gt; getAllEmp();--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getAllEmp&#34;</span> <span class="na">resultType=</span><span class="s">&#34;Emp&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	select eid,emp_name empName,age,sex,email from t_emp
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div>``</li>
<li>å¯ä»¥åœ¨MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­çš„<code>setting</code>æ ‡ç­¾ä¸­ï¼Œè®¾ç½®ä¸€ä¸ªå…¨å±€é…ç½®ä¿¡æ¯mapUnderscoreToCamelCaseï¼Œå¯ä»¥åœ¨æŸ¥è¯¢è¡¨ä¸­æ•°æ®æ—¶ï¼Œè‡ªåŠ¨å°†_ç±»å‹çš„å­—æ®µåè½¬æ¢ä¸ºé©¼å³°ï¼Œä¾‹å¦‚ï¼šå­—æ®µåuser_nameï¼Œè®¾ç½®äº†mapUnderscoreToCamelCaseï¼Œæ­¤æ—¶å­—æ®µåå°±ä¼šè½¬æ¢ä¸ºuserNameã€‚<a class="link" href="#%e6%a0%b8%e5%bf%83%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6%e8%af%a6%e8%a7%a3" >æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£</a>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<!-- raw HTML omitted -->
</li>
</ul>
<h2 id="å¤šå¯¹ä¸€æ˜ å°„å¤„ç†">å¤šå¯¹ä¸€æ˜ å°„å¤„ç†</h2>
<blockquote>
<p>æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯ä»¥åŠå‘˜å·¥æ‰€å¯¹åº”çš„éƒ¨é—¨ä¿¡æ¯</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Emp</span> <span class="o">{</span>  
</span></span><span class="line"><span class="cl">	<span class="kd">private</span> <span class="n">Integer</span> <span class="n">eid</span><span class="o">;</span>  
</span></span><span class="line"><span class="cl">	<span class="kd">private</span> <span class="n">String</span> <span class="n">empName</span><span class="o">;</span>  
</span></span><span class="line"><span class="cl">	<span class="kd">private</span> <span class="n">Integer</span> <span class="n">age</span><span class="o">;</span>  
</span></span><span class="line"><span class="cl">	<span class="kd">private</span> <span class="n">String</span> <span class="n">sex</span><span class="o">;</span>  
</span></span><span class="line"><span class="cl">	<span class="kd">private</span> <span class="n">String</span> <span class="n">email</span><span class="o">;</span>  
</span></span><span class="line"><span class="cl">	<span class="kd">private</span> <span class="n">Dept</span> <span class="n">dept</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//...æ„é€ å™¨ã€getã€setæ–¹æ³•ç­‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="çº§è”æ–¹å¼å¤„ç†æ˜ å°„å…³ç³»">çº§è”æ–¹å¼å¤„ç†æ˜ å°„å…³ç³»</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;resultMap</span> <span class="na">id=</span><span class="s">&#34;empAndDeptResultMapOne&#34;</span> <span class="na">type=</span><span class="s">&#34;Emp&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;id</span> <span class="na">property=</span><span class="s">&#34;eid&#34;</span> <span class="na">column=</span><span class="s">&#34;eid&#34;</span><span class="nt">&gt;&lt;/id&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;empName&#34;</span> <span class="na">column=</span><span class="s">&#34;emp_name&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;age&#34;</span> <span class="na">column=</span><span class="s">&#34;age&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;sex&#34;</span> <span class="na">column=</span><span class="s">&#34;sex&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;email&#34;</span> <span class="na">column=</span><span class="s">&#34;email&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;dept.did&#34;</span> <span class="na">column=</span><span class="s">&#34;did&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;dept.deptName&#34;</span> <span class="na">column=</span><span class="s">&#34;dept_name&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/resultMap&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--Emp getEmpAndDept(@Param(&#34;eid&#34;)Integer eid);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getEmpAndDept&#34;</span> <span class="na">resultMap=</span><span class="s">&#34;empAndDeptResultMapOne&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	select * from t_emp left join t_dept on t_emp.eid = t_dept.did where t_emp.eid = #{eid}
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ä½¿ç”¨associationå¤„ç†æ˜ å°„å…³ç³»">ä½¿ç”¨associationå¤„ç†æ˜ å°„å…³ç³»</h3>
<ul>
<li>associationï¼šå¤„ç†å¤šå¯¹ä¸€çš„æ˜ å°„å…³ç³»</li>
<li>propertyï¼šéœ€è¦å¤„ç†å¤šå¯¹çš„æ˜ å°„å…³ç³»çš„å±æ€§å</li>
<li>javaTypeï¼šè¯¥å±æ€§çš„ç±»å‹</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;resultMap</span> <span class="na">id=</span><span class="s">&#34;empAndDeptResultMapTwo&#34;</span> <span class="na">type=</span><span class="s">&#34;Emp&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;id</span> <span class="na">property=</span><span class="s">&#34;eid&#34;</span> <span class="na">column=</span><span class="s">&#34;eid&#34;</span><span class="nt">&gt;&lt;/id&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;empName&#34;</span> <span class="na">column=</span><span class="s">&#34;emp_name&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;age&#34;</span> <span class="na">column=</span><span class="s">&#34;age&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;sex&#34;</span> <span class="na">column=</span><span class="s">&#34;sex&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;email&#34;</span> <span class="na">column=</span><span class="s">&#34;email&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;association</span> <span class="na">property=</span><span class="s">&#34;dept&#34;</span> <span class="na">javaType=</span><span class="s">&#34;Dept&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;id</span> <span class="na">property=</span><span class="s">&#34;did&#34;</span> <span class="na">column=</span><span class="s">&#34;did&#34;</span><span class="nt">&gt;&lt;/id&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;deptName&#34;</span> <span class="na">column=</span><span class="s">&#34;dept_name&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/association&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/resultMap&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--Emp getEmpAndDept(@Param(&#34;eid&#34;)Integer eid);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getEmpAndDept&#34;</span> <span class="na">resultMap=</span><span class="s">&#34;empAndDeptResultMapTwo&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	select * from t_emp left join t_dept on t_emp.eid = t_dept.did where t_emp.eid = #{eid}
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="åˆ†æ­¥æŸ¥è¯¢">åˆ†æ­¥æŸ¥è¯¢</h3>
<h4 id="1-æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯">1. æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯</h4>
<ul>
<li>selectï¼šè®¾ç½®åˆ†å¸ƒæŸ¥è¯¢çš„sqlçš„å”¯ä¸€æ ‡è¯†ï¼ˆnamespace.SQLIdæˆ–mapperæ¥å£çš„å…¨ç±»å.æ–¹æ³•åï¼‰</li>
<li>columnï¼šè®¾ç½®åˆ†æ­¥æŸ¥è¯¢çš„æ¡ä»¶</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="c1">//EmpMapperé‡Œçš„æ–¹æ³•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * é€šè¿‡åˆ†æ­¥æŸ¥è¯¢ï¼Œå‘˜å·¥åŠæ‰€å¯¹åº”çš„éƒ¨é—¨ä¿¡æ¯
</span></span></span><span class="line"><span class="cl"><span class="cm"> * åˆ†æ­¥æŸ¥è¯¢ç¬¬ä¸€æ­¥ï¼šæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @param  
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @return com.atguigu.mybatis.pojo.Emp
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @date 2022/2/27 20:17
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="n">Emp</span> <span class="nf">getEmpAndDeptByStepOne</span><span class="o">(</span><span class="nd">@Param</span><span class="o">(</span><span class="s">&#34;eid&#34;</span><span class="o">)</span> <span class="n">Integer</span> <span class="n">eid</span><span class="o">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;resultMap</span> <span class="na">id=</span><span class="s">&#34;empAndDeptByStepResultMap&#34;</span> <span class="na">type=</span><span class="s">&#34;Emp&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;id</span> <span class="na">property=</span><span class="s">&#34;eid&#34;</span> <span class="na">column=</span><span class="s">&#34;eid&#34;</span><span class="nt">&gt;&lt;/id&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;empName&#34;</span> <span class="na">column=</span><span class="s">&#34;emp_name&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;age&#34;</span> <span class="na">column=</span><span class="s">&#34;age&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;sex&#34;</span> <span class="na">column=</span><span class="s">&#34;sex&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;email&#34;</span> <span class="na">column=</span><span class="s">&#34;email&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;association</span> <span class="na">property=</span><span class="s">&#34;dept&#34;</span>
</span></span><span class="line"><span class="cl">				 <span class="na">select=</span><span class="s">&#34;com.atguigu.mybatis.mapper.DeptMapper.getEmpAndDeptByStepTwo&#34;</span>
</span></span><span class="line"><span class="cl">				 <span class="na">column=</span><span class="s">&#34;did&#34;</span><span class="nt">&gt;&lt;/association&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/resultMap&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--Emp getEmpAndDeptByStepOne(@Param(&#34;eid&#34;) Integer eid);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getEmpAndDeptByStepOne&#34;</span> <span class="na">resultMap=</span><span class="s">&#34;empAndDeptByStepResultMap&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	select * from t_emp where eid = #{eid}
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="2-æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯">2. æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="c1">//DeptMapperé‡Œçš„æ–¹æ³•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * é€šè¿‡åˆ†æ­¥æŸ¥è¯¢ï¼Œå‘˜å·¥åŠæ‰€å¯¹åº”çš„éƒ¨é—¨ä¿¡æ¯
</span></span></span><span class="line"><span class="cl"><span class="cm"> * åˆ†æ­¥æŸ¥è¯¢ç¬¬äºŒæ­¥ï¼šé€šè¿‡didæŸ¥è¯¢å‘˜å·¥å¯¹åº”çš„éƒ¨é—¨ä¿¡æ¯
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @param
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @return com.atguigu.mybatis.pojo.Emp
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @date 2022/2/27 20:23
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="n">Dept</span> <span class="nf">getEmpAndDeptByStepTwo</span><span class="o">(</span><span class="nd">@Param</span><span class="o">(</span><span class="s">&#34;did&#34;</span><span class="o">)</span> <span class="n">Integer</span> <span class="n">did</span><span class="o">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--æ­¤å¤„çš„resultMapä»…æ˜¯å¤„ç†å­—æ®µå’Œå±æ€§çš„æ˜ å°„å…³ç³»--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;resultMap</span> <span class="na">id=</span><span class="s">&#34;EmpAndDeptByStepTwoResultMap&#34;</span> <span class="na">type=</span><span class="s">&#34;Dept&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;id</span> <span class="na">property=</span><span class="s">&#34;did&#34;</span> <span class="na">column=</span><span class="s">&#34;did&#34;</span><span class="nt">&gt;&lt;/id&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;deptName&#34;</span> <span class="na">column=</span><span class="s">&#34;dept_name&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/resultMap&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--Dept getEmpAndDeptByStepTwo(@Param(&#34;did&#34;) Integer did);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getEmpAndDeptByStepTwo&#34;</span> <span class="na">resultMap=</span><span class="s">&#34;EmpAndDeptByStepTwoResultMap&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	select * from t_dept where did = #{did}
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="ä¸€å¯¹å¤šæ˜ å°„å¤„ç†">ä¸€å¯¹å¤šæ˜ å°„å¤„ç†</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Dept</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">Integer</span> <span class="n">did</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">String</span> <span class="n">deptName</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Emp</span><span class="o">&gt;</span> <span class="n">emps</span><span class="o">;</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//...æ„é€ å™¨ã€getã€setæ–¹æ³•ç­‰
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="collection">collection</h3>
<ul>
<li>collectionï¼šç”¨æ¥å¤„ç†ä¸€å¯¹å¤šçš„æ˜ å°„å…³ç³»</li>
<li>ofTypeï¼šè¡¨ç¤ºè¯¥å±æ€§å¯¹é¥®çš„é›†åˆä¸­å­˜å‚¨çš„æ•°æ®çš„ç±»å‹</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;resultMap</span> <span class="na">id=</span><span class="s">&#34;DeptAndEmpResultMap&#34;</span> <span class="na">type=</span><span class="s">&#34;Dept&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;id</span> <span class="na">property=</span><span class="s">&#34;did&#34;</span> <span class="na">column=</span><span class="s">&#34;did&#34;</span><span class="nt">&gt;&lt;/id&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;deptName&#34;</span> <span class="na">column=</span><span class="s">&#34;dept_name&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;collection</span> <span class="na">property=</span><span class="s">&#34;emps&#34;</span> <span class="na">ofType=</span><span class="s">&#34;Emp&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;id</span> <span class="na">property=</span><span class="s">&#34;eid&#34;</span> <span class="na">column=</span><span class="s">&#34;eid&#34;</span><span class="nt">&gt;&lt;/id&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;empName&#34;</span> <span class="na">column=</span><span class="s">&#34;emp_name&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;age&#34;</span> <span class="na">column=</span><span class="s">&#34;age&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;sex&#34;</span> <span class="na">column=</span><span class="s">&#34;sex&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;email&#34;</span> <span class="na">column=</span><span class="s">&#34;email&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/collection&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/resultMap&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--Dept getDeptAndEmp(@Param(&#34;did&#34;) Integer did);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getDeptAndEmp&#34;</span> <span class="na">resultMap=</span><span class="s">&#34;DeptAndEmpResultMap&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	select * from t_dept left join t_emp on t_dept.did = t_emp.did where t_dept.did = #{did}
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="åˆ†æ­¥æŸ¥è¯¢-1">åˆ†æ­¥æŸ¥è¯¢</h3>
<h4 id="1-æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯">1. æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * é€šè¿‡åˆ†æ­¥æŸ¥è¯¢ï¼ŒæŸ¥è¯¢éƒ¨é—¨åŠå¯¹åº”çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯
</span></span></span><span class="line"><span class="cl"><span class="cm"> * åˆ†æ­¥æŸ¥è¯¢ç¬¬ä¸€æ­¥ï¼šæŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @param did 
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @return com.atguigu.mybatis.pojo.Dept
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @date 2022/2/27 22:04
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="n">Dept</span> <span class="nf">getDeptAndEmpByStepOne</span><span class="o">(</span><span class="nd">@Param</span><span class="o">(</span><span class="s">&#34;did&#34;</span><span class="o">)</span> <span class="n">Integer</span> <span class="n">did</span><span class="o">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;resultMap</span> <span class="na">id=</span><span class="s">&#34;DeptAndEmpByStepOneResultMap&#34;</span> <span class="na">type=</span><span class="s">&#34;Dept&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;id</span> <span class="na">property=</span><span class="s">&#34;did&#34;</span> <span class="na">column=</span><span class="s">&#34;did&#34;</span><span class="nt">&gt;&lt;/id&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;deptName&#34;</span> <span class="na">column=</span><span class="s">&#34;dept_name&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;collection</span> <span class="na">property=</span><span class="s">&#34;emps&#34;</span>
</span></span><span class="line"><span class="cl">				<span class="na">select=</span><span class="s">&#34;com.atguigu.mybatis.mapper.EmpMapper.getDeptAndEmpByStepTwo&#34;</span>
</span></span><span class="line"><span class="cl">				<span class="na">column=</span><span class="s">&#34;did&#34;</span><span class="nt">&gt;&lt;/collection&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/resultMap&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--Dept getDeptAndEmpByStepOne(@Param(&#34;did&#34;) Integer did);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getDeptAndEmpByStepOne&#34;</span> <span class="na">resultMap=</span><span class="s">&#34;DeptAndEmpByStepOneResultMap&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	select * from t_dept where did = #{did}
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="2-æ ¹æ®éƒ¨é—¨idæŸ¥è¯¢éƒ¨é—¨ä¸­çš„æ‰€æœ‰å‘˜å·¥">2. æ ¹æ®éƒ¨é—¨idæŸ¥è¯¢éƒ¨é—¨ä¸­çš„æ‰€æœ‰å‘˜å·¥</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * é€šè¿‡åˆ†æ­¥æŸ¥è¯¢ï¼ŒæŸ¥è¯¢éƒ¨é—¨åŠå¯¹åº”çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯
</span></span></span><span class="line"><span class="cl"><span class="cm"> * åˆ†æ­¥æŸ¥è¯¢ç¬¬äºŒæ­¥ï¼šæ ¹æ®éƒ¨é—¨idæŸ¥è¯¢éƒ¨é—¨ä¸­çš„æ‰€æœ‰å‘˜å·¥
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @param did
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @return java.util.List&lt;com.atguigu.mybatis.pojo.Emp&gt;
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @date 2022/2/27 22:10
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span>
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="o">&lt;</span><span class="n">Emp</span><span class="o">&gt;</span> <span class="nf">getDeptAndEmpByStepTwo</span><span class="o">(</span><span class="nd">@Param</span><span class="o">(</span><span class="s">&#34;did&#34;</span><span class="o">)</span> <span class="n">Integer</span> <span class="n">did</span><span class="o">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--List&lt;Emp&gt; getDeptAndEmpByStepTwo(@Param(&#34;did&#34;) Integer did);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getDeptAndEmpByStepTwo&#34;</span> <span class="na">resultType=</span><span class="s">&#34;Emp&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	select * from t_emp where did = #{did}
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="å»¶è¿ŸåŠ è½½">å»¶è¿ŸåŠ è½½</h2>
<ul>
<li>åˆ†æ­¥æŸ¥è¯¢çš„ä¼˜ç‚¹ï¼šå¯ä»¥å®ç°å»¶è¿ŸåŠ è½½ï¼Œä½†æ˜¯å¿…é¡»åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­è®¾ç½®å…¨å±€é…ç½®ä¿¡æ¯ï¼š</li>
<li>lazyLoadingEnabledï¼šå»¶è¿ŸåŠ è½½çš„å…¨å±€å¼€å…³ã€‚å½“å¼€å¯æ—¶ï¼Œæ‰€æœ‰å…³è”å¯¹è±¡éƒ½ä¼šå»¶è¿ŸåŠ è½½
<ul>
<li>aggressiveLazyLoadingï¼šå½“å¼€å¯æ—¶ï¼Œä»»ä½•æ–¹æ³•çš„è°ƒç”¨éƒ½ä¼šåŠ è½½è¯¥å¯¹è±¡çš„æ‰€æœ‰å±æ€§ã€‚ å¦åˆ™ï¼Œæ¯ä¸ªå±æ€§ä¼šæŒ‰éœ€åŠ è½½</li>
</ul>
</li>
<li>æ­¤æ—¶å°±å¯ä»¥å®ç°æŒ‰éœ€åŠ è½½ï¼Œè·å–çš„æ•°æ®æ˜¯ä»€ä¹ˆï¼Œå°±åªä¼šæ‰§è¡Œç›¸åº”çš„sqlã€‚æ­¤æ—¶å¯é€šè¿‡associationå’Œcollectionä¸­çš„fetchTypeå±æ€§è®¾ç½®å½“å‰çš„åˆ†æ­¥æŸ¥è¯¢æ˜¯å¦ä½¿ç”¨å»¶è¿ŸåŠ è½½ï¼ŒfetchType=&ldquo;lazy(å»¶è¿ŸåŠ è½½)|eager(ç«‹å³åŠ è½½)&rdquo;</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;settings&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="c">&lt;!--å¼€å¯å»¶è¿ŸåŠ è½½--&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;setting</span> <span class="na">name=</span><span class="s">&#34;lazyLoadingEnabled&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/settings&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">getEmpAndDeptByStepOne</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">SqlSession</span> <span class="n">sqlSession</span> <span class="o">=</span> <span class="n">SqlSessionUtils</span><span class="o">.</span><span class="na">getSqlSession</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">	<span class="n">EmpMapper</span> <span class="n">mapper</span> <span class="o">=</span> <span class="n">sqlSession</span><span class="o">.</span><span class="na">getMapper</span><span class="o">(</span><span class="n">EmpMapper</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">Emp</span> <span class="n">emp</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="na">getEmpAndDeptByStepOne</span><span class="o">(</span><span class="n">1</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">emp</span><span class="o">.</span><span class="na">getEmpName</span><span class="o">());</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>å…³é—­å»¶è¿ŸåŠ è½½ï¼Œä¸¤æ¡SQLè¯­å¥éƒ½è¿è¡Œäº†<img src="/D:%5c%e8%bf%85%e9%9b%b7%e4%b8%8b%e8%bd%bd%5cMyBatis%5cMyBatis%5cResources%5c%e5%bb%b6%e8%bf%9f%e5%8a%a0%e8%bd%bd%e6%b5%8b%e8%af%951.png"
	
	
	
	loading="lazy"
	
	
></li>
<li>å¼€å¯å»¶è¿ŸåŠ è½½ï¼Œåªè¿è¡Œè·å–empçš„SQLè¯­å¥
<img src="/D:%5c%e8%bf%85%e9%9b%b7%e4%b8%8b%e8%bd%bd%5cMyBatis%5cMyBatis%5cResources%5c%e5%bb%b6%e8%bf%9f%e5%8a%a0%e8%bd%bd%e6%b5%8b%e8%af%952.png"
	
	
	
	loading="lazy"
	
	
></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">getEmpAndDeptByStepOne</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">SqlSession</span> <span class="n">sqlSession</span> <span class="o">=</span> <span class="n">SqlSessionUtils</span><span class="o">.</span><span class="na">getSqlSession</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">	<span class="n">EmpMapper</span> <span class="n">mapper</span> <span class="o">=</span> <span class="n">sqlSession</span><span class="o">.</span><span class="na">getMapper</span><span class="o">(</span><span class="n">EmpMapper</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">Emp</span> <span class="n">emp</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="na">getEmpAndDeptByStepOne</span><span class="o">(</span><span class="n">1</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">emp</span><span class="o">.</span><span class="na">getEmpName</span><span class="o">());</span>
</span></span><span class="line"><span class="cl">	<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;----------------&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">emp</span><span class="o">.</span><span class="na">getDept</span><span class="o">());</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>å¼€å¯åï¼Œéœ€è¦ç”¨åˆ°æŸ¥è¯¢deptçš„æ—¶å€™æ‰ä¼šè°ƒç”¨ç›¸åº”çš„SQLè¯­å¥<img src="/D:%5c%e8%bf%85%e9%9b%b7%e4%b8%8b%e8%bd%bd%5cMyBatis%5cMyBatis%5cResources%5c%e5%bb%b6%e8%bf%9f%e5%8a%a0%e8%bd%bd%e6%b5%8b%e8%af%953.png"
	
	
	
	loading="lazy"
	
	
></p>
</li>
<li>
<p>fetchTypeï¼šå½“å¼€å¯äº†å…¨å±€çš„å»¶è¿ŸåŠ è½½ä¹‹åï¼Œå¯ä»¥é€šè¿‡è¯¥å±æ€§æ‰‹åŠ¨æ§åˆ¶å»¶è¿ŸåŠ è½½çš„æ•ˆæœï¼ŒfetchType=&ldquo;lazy(å»¶è¿ŸåŠ è½½)|eager(ç«‹å³åŠ è½½)&rdquo;</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;resultMap</span> <span class="na">id=</span><span class="s">&#34;empAndDeptByStepResultMap&#34;</span> <span class="na">type=</span><span class="s">&#34;Emp&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;id</span> <span class="na">property=</span><span class="s">&#34;eid&#34;</span> <span class="na">column=</span><span class="s">&#34;eid&#34;</span><span class="nt">&gt;&lt;/id&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;empName&#34;</span> <span class="na">column=</span><span class="s">&#34;emp_name&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;age&#34;</span> <span class="na">column=</span><span class="s">&#34;age&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;sex&#34;</span> <span class="na">column=</span><span class="s">&#34;sex&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;result</span> <span class="na">property=</span><span class="s">&#34;email&#34;</span> <span class="na">column=</span><span class="s">&#34;email&#34;</span><span class="nt">&gt;&lt;/result&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;association</span> <span class="na">property=</span><span class="s">&#34;dept&#34;</span>
</span></span><span class="line"><span class="cl">				 <span class="na">select=</span><span class="s">&#34;com.atguigu.mybatis.mapper.DeptMapper.getEmpAndDeptByStepTwo&#34;</span>
</span></span><span class="line"><span class="cl">				 <span class="na">column=</span><span class="s">&#34;did&#34;</span>
</span></span><span class="line"><span class="cl">				 <span class="na">fetchType=</span><span class="s">&#34;lazy&#34;</span><span class="nt">&gt;&lt;/association&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/resultMap&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h1 id="åŠ¨æ€sql">åŠ¨æ€SQL</h1>
<ul>
<li>Mybatisæ¡†æ¶çš„åŠ¨æ€SQLæŠ€æœ¯æ˜¯ä¸€ç§æ ¹æ®ç‰¹å®šæ¡ä»¶åŠ¨æ€æ‹¼è£…SQLè¯­å¥çš„åŠŸèƒ½ï¼Œå®ƒå­˜åœ¨çš„æ„ä¹‰æ˜¯ä¸ºäº†è§£å†³æ‹¼æ¥SQLè¯­å¥å­—ç¬¦ä¸²æ—¶çš„ç—›ç‚¹é—®é¢˜</li>
</ul>
<h2 id="if">if</h2>
<ul>
<li>ifæ ‡ç­¾å¯é€šè¿‡testå±æ€§ï¼ˆå³ä¼ é€’è¿‡æ¥çš„æ•°æ®ï¼‰çš„è¡¨è¾¾å¼è¿›è¡Œåˆ¤æ–­ï¼Œè‹¥è¡¨è¾¾å¼çš„ç»“æœä¸ºtrueï¼Œåˆ™æ ‡ç­¾ä¸­çš„å†…å®¹ä¼šæ‰§è¡Œï¼›åä¹‹æ ‡ç­¾ä¸­çš„å†…å®¹ä¸ä¼šæ‰§è¡Œ</li>
<li>åœ¨whereåé¢æ·»åŠ ä¸€ä¸ªæ’æˆç«‹æ¡ä»¶<code>1=1</code></li>
<li>è¿™ä¸ªæ’æˆç«‹æ¡ä»¶å¹¶ä¸ä¼šå½±å“æŸ¥è¯¢çš„ç»“æœ
<ul>
<li>è¿™ä¸ª<code>1=1</code>å¯ä»¥ç”¨æ¥æ‹¼æ¥<code>and</code>è¯­å¥ï¼Œä¾‹å¦‚ï¼šå½“empNameä¸ºnullæ—¶</li>
<li>å¦‚æœä¸åŠ ä¸Šæ’æˆç«‹æ¡ä»¶ï¼Œåˆ™SQLè¯­å¥ä¸º<code>select * from t_emp where and age = ? and sex = ? and email = ?</code>ï¼Œæ­¤æ—¶<code>where</code>ä¼šä¸<code>and</code>è¿ç”¨ï¼ŒSQLè¯­å¥ä¼šæŠ¥é”™
<ul>
<li>å¦‚æœåŠ ä¸Šä¸€ä¸ªæ’æˆç«‹æ¡ä»¶ï¼Œåˆ™SQLè¯­å¥ä¸º<code>select * from t_emp where 1= 1 and age = ? and sex = ? and email = ?</code>ï¼Œæ­¤æ—¶ä¸æŠ¥é”™</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--List&lt;Emp&gt; getEmpByCondition(Emp emp);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getEmpByCondition&#34;</span> <span class="na">resultType=</span><span class="s">&#34;Emp&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	select * from t_emp where 1=1
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;if</span> <span class="na">test=</span><span class="s">&#34;empName != null and empName !=&#39;&#39;&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">		and emp_name = #{empName}
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/if&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;if</span> <span class="na">test=</span><span class="s">&#34;age != null and age !=&#39;&#39;&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">		and age = #{age}
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/if&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;if</span> <span class="na">test=</span><span class="s">&#34;sex != null and sex !=&#39;&#39;&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">		and sex = #{sex}
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/if&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;if</span> <span class="na">test=</span><span class="s">&#34;email != null and email !=&#39;&#39;&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">		and email = #{email}
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/if&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="where">where</h2>
<ul>
<li>whereå’Œifä¸€èˆ¬ç»“åˆä½¿ç”¨ï¼š</li>
<li>è‹¥whereæ ‡ç­¾ä¸­çš„ifæ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œåˆ™whereæ ‡ç­¾æ²¡æœ‰ä»»ä½•åŠŸèƒ½ï¼Œå³ä¸ä¼šæ·»åŠ whereå…³é”®å­—
<ul>
<li>è‹¥whereæ ‡ç­¾ä¸­çš„ifæ¡ä»¶æ»¡è¶³ï¼Œåˆ™whereæ ‡ç­¾ä¼šè‡ªåŠ¨æ·»åŠ whereå…³é”®å­—ï¼Œå¹¶å°†æ¡ä»¶æœ€å‰æ–¹å¤šä½™çš„and/orå»æ‰</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--List&lt;Emp&gt; getEmpByCondition(Emp emp);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getEmpByCondition&#34;</span> <span class="na">resultType=</span><span class="s">&#34;Emp&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	select * from t_emp
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;where&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;if</span> <span class="na">test=</span><span class="s">&#34;empName != null and empName !=&#39;&#39;&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">			emp_name = #{empName}
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;/if&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;if</span> <span class="na">test=</span><span class="s">&#34;age != null and age !=&#39;&#39;&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">			and age = #{age}
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;/if&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;if</span> <span class="na">test=</span><span class="s">&#34;sex != null and sex !=&#39;&#39;&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">			and sex = #{sex}
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;/if&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;if</span> <span class="na">test=</span><span class="s">&#34;email != null and email !=&#39;&#39;&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">			and email = #{email}
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;/if&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/where&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>æ³¨æ„ï¼šwhereæ ‡ç­¾ä¸èƒ½å»æ‰æ¡ä»¶åå¤šä½™çš„and/or</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--è¿™ç§ç”¨æ³•æ˜¯é”™è¯¯çš„ï¼Œåªèƒ½å»æ‰æ¡ä»¶å‰é¢çš„and/orï¼Œæ¡ä»¶åé¢çš„ä¸è¡Œ--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;if</span> <span class="na">test=</span><span class="s">&#34;empName != null and empName !=&#39;&#39;&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">emp_name = #{empName} and
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/if&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;if</span> <span class="na">test=</span><span class="s">&#34;age != null and age !=&#39;&#39;&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	age = #{age}
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/if&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h2 id="trim">trim</h2>
<ul>
<li>trimç”¨äºå»æ‰æˆ–æ·»åŠ æ ‡ç­¾ä¸­çš„å†…å®¹</li>
<li>å¸¸ç”¨å±æ€§</li>
<li>prefixï¼šåœ¨trimæ ‡ç­¾ä¸­çš„å†…å®¹çš„å‰é¢æ·»åŠ æŸäº›å†…å®¹
<ul>
<li>suffixï¼šåœ¨trimæ ‡ç­¾ä¸­çš„å†…å®¹çš„åé¢æ·»åŠ æŸäº›å†…å®¹</li>
<li>prefixOverridesï¼šåœ¨trimæ ‡ç­¾ä¸­çš„å†…å®¹çš„å‰é¢å»æ‰æŸäº›å†…å®¹</li>
<li>suffixOverridesï¼šåœ¨trimæ ‡ç­¾ä¸­çš„å†…å®¹çš„åé¢å»æ‰æŸäº›å†…å®¹</li>
</ul>
</li>
<li>è‹¥trimä¸­çš„æ ‡ç­¾éƒ½ä¸æ»¡è¶³æ¡ä»¶ï¼Œåˆ™trimæ ‡ç­¾æ²¡æœ‰ä»»ä½•æ•ˆæœï¼Œä¹Ÿå°±æ˜¯åªå‰©ä¸‹<code>select * from t_emp</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--List&lt;Emp&gt; getEmpByCondition(Emp emp);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getEmpByCondition&#34;</span> <span class="na">resultType=</span><span class="s">&#34;Emp&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	select * from t_emp
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;trim</span> <span class="na">prefix=</span><span class="s">&#34;where&#34;</span> <span class="na">suffixOverrides=</span><span class="s">&#34;and|or&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;if</span> <span class="na">test=</span><span class="s">&#34;empName != null and empName !=&#39;&#39;&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">			emp_name = #{empName} and
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;/if&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;if</span> <span class="na">test=</span><span class="s">&#34;age != null and age !=&#39;&#39;&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">			age = #{age} and
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;/if&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;if</span> <span class="na">test=</span><span class="s">&#34;sex != null and sex !=&#39;&#39;&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">			sex = #{sex} or
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;/if&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;if</span> <span class="na">test=</span><span class="s">&#34;email != null and email !=&#39;&#39;&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">			email = #{email}
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;/if&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/trim&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="c1">//æµ‹è¯•ç±»
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">getEmpByCondition</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">SqlSession</span> <span class="n">sqlSession</span> <span class="o">=</span> <span class="n">SqlSessionUtils</span><span class="o">.</span><span class="na">getSqlSession</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">	<span class="n">DynamicSQLMapper</span> <span class="n">mapper</span> <span class="o">=</span> <span class="n">sqlSession</span><span class="o">.</span><span class="na">getMapper</span><span class="o">(</span><span class="n">DynamicSQLMapper</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">List</span><span class="o">&lt;</span><span class="n">Emp</span><span class="o">&gt;</span> <span class="n">emps</span><span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="na">getEmpByCondition</span><span class="o">(</span><span class="k">new</span> <span class="n">Emp</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span> <span class="s">&#34;å¼ ä¸‰&#34;</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="kc">null</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">	<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">emps</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/D:%5c%e8%bf%85%e9%9b%b7%e4%b8%8b%e8%bd%bd%5cMyBatis%5cMyBatis%5cResources%5ctrim%e6%b5%8b%e8%af%95%e7%bb%93%e6%9e%9c.png"
	
	
	
	loading="lazy"
	
	
></p>
<h2 id="choosewhenotherwise">chooseã€whenã€otherwise</h2>
<ul>
<li><code>chooseã€whenã€otherwise</code>ç›¸å½“äº<code>if...else if..else</code></li>
<li>whenè‡³å°‘è¦æœ‰ä¸€ä¸ªï¼Œotherwiseè‡³å¤šåªæœ‰ä¸€ä¸ª</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getEmpByChoose&#34;</span> <span class="na">resultType=</span><span class="s">&#34;Emp&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	select * from t_emp
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;where&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;choose&gt;</span>
</span></span><span class="line"><span class="cl">			<span class="nt">&lt;when</span> <span class="na">test=</span><span class="s">&#34;empName != null and empName != &#39;&#39;&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">				emp_name = #{empName}
</span></span><span class="line"><span class="cl">			<span class="nt">&lt;/when&gt;</span>
</span></span><span class="line"><span class="cl">			<span class="nt">&lt;when</span> <span class="na">test=</span><span class="s">&#34;age != null and age != &#39;&#39;&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">				age = #{age}
</span></span><span class="line"><span class="cl">			<span class="nt">&lt;/when&gt;</span>
</span></span><span class="line"><span class="cl">			<span class="nt">&lt;when</span> <span class="na">test=</span><span class="s">&#34;sex != null and sex != &#39;&#39;&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">				sex = #{sex}
</span></span><span class="line"><span class="cl">			<span class="nt">&lt;/when&gt;</span>
</span></span><span class="line"><span class="cl">			<span class="nt">&lt;when</span> <span class="na">test=</span><span class="s">&#34;email != null and email != &#39;&#39;&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">				email = #{email}
</span></span><span class="line"><span class="cl">			<span class="nt">&lt;/when&gt;</span>
</span></span><span class="line"><span class="cl">			<span class="nt">&lt;otherwise&gt;</span>
</span></span><span class="line"><span class="cl">				did = 1
</span></span><span class="line"><span class="cl">			<span class="nt">&lt;/otherwise&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;/choose&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/where&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">getEmpByChoose</span><span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">SqlSession</span> <span class="n">sqlSession</span> <span class="o">=</span> <span class="n">SqlSessionUtils</span><span class="o">.</span><span class="na">getSqlSession</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">	<span class="n">DynamicSQLMapper</span> <span class="n">mapper</span> <span class="o">=</span> <span class="n">sqlSession</span><span class="o">.</span><span class="na">getMapper</span><span class="o">(</span><span class="n">DynamicSQLMapper</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">List</span><span class="o">&lt;</span><span class="n">Emp</span><span class="o">&gt;</span> <span class="n">emps</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="na">getEmpByChoose</span><span class="o">(</span><span class="k">new</span> <span class="n">Emp</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span> <span class="s">&#34;å¼ ä¸‰&#34;</span><span class="o">,</span> <span class="n">23</span><span class="o">,</span> <span class="s">&#34;ç”·&#34;</span><span class="o">,</span> <span class="s">&#34;123@qq.com&#34;</span><span class="o">,</span> <span class="kc">null</span><span class="o">));</span>
</span></span><span class="line"><span class="cl">	<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">emps</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/D:%5c%e8%bf%85%e9%9b%b7%e4%b8%8b%e8%bd%bd%5cMyBatis%5cMyBatis%5cResources%5cchoose%e6%b5%8b%e8%af%95%e7%bb%93%e6%9e%9c.png"
	
	
	
	loading="lazy"
	
	
></p>
<ul>
<li>ç›¸å½“äº<code>if a else if b else if c else d</code>ï¼Œåªä¼šæ‰§è¡Œå…¶ä¸­ä¸€ä¸ª</li>
</ul>
<h2 id="foreach">foreach</h2>
<ul>
<li>
<p>å±æ€§ï¼š</p>
</li>
<li>
<p>collectionï¼šè®¾ç½®è¦å¾ªç¯çš„æ•°ç»„æˆ–é›†åˆ</p>
<ul>
<li>itemï¼šè¡¨ç¤ºé›†åˆæˆ–æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªæ•°æ®</li>
<li>separatorï¼šè®¾ç½®å¾ªç¯ä½“ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼Œåˆ†éš”ç¬¦å‰åé»˜è®¤æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œå¦‚<code>,</code></li>
<li>openï¼šè®¾ç½®foreachæ ‡ç­¾ä¸­çš„å†…å®¹çš„å¼€å§‹ç¬¦</li>
<li>closeï¼šè®¾ç½®foreachæ ‡ç­¾ä¸­çš„å†…å®¹çš„ç»“æŸç¬¦</li>
</ul>
</li>
<li>
<p>æ‰¹é‡åˆ é™¤</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--int deleteMoreByArray(Integer[] eids);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;delete</span> <span class="na">id=</span><span class="s">&#34;deleteMoreByArray&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	delete from t_emp where eid in
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;foreach</span> <span class="na">collection=</span><span class="s">&#34;eids&#34;</span> <span class="na">item=</span><span class="s">&#34;eid&#34;</span> <span class="na">separator=</span><span class="s">&#34;,&#34;</span> <span class="na">open=</span><span class="s">&#34;(&#34;</span> <span class="na">close=</span><span class="s">&#34;)&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">		#{eid}
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/foreach&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/delete&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">`java
</span></span><span class="line"><span class="cl">est
</span></span><span class="line"><span class="cl">blic void deleteMoreByArray() {
</span></span><span class="line"><span class="cl">lSession sqlSession = SqlSessionUtils.getSqlSession();
</span></span><span class="line"><span class="cl">namicSQLMapper mapper = sqlSession.getMapper(DynamicSQLMapper.class);
</span></span><span class="line"><span class="cl">t result = mapper.deleteMoreByArray(new Integer[]{6, 7, 8, 9});
</span></span><span class="line"><span class="cl">stem.out.println(result);
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">](Resources/foreachæµ‹è¯•ç»“æœ1.png)
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>æ‰¹é‡æ·»åŠ </p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--int insertMoreByList(@Param(&#34;emps&#34;) List&lt;Emp&gt; emps);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;insert</span> <span class="na">id=</span><span class="s">&#34;insertMoreByList&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	insert into t_emp values
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;foreach</span> <span class="na">collection=</span><span class="s">&#34;emps&#34;</span> <span class="na">item=</span><span class="s">&#34;emp&#34;</span> <span class="na">separator=</span><span class="s">&#34;,&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">		(null,#{emp.empName},#{emp.age},#{emp.sex},#{emp.email},null)
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/foreach&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/insert&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">`java
</span></span><span class="line"><span class="cl">est
</span></span><span class="line"><span class="cl">blic void insertMoreByList() {
</span></span><span class="line"><span class="cl">lSession sqlSession = SqlSessionUtils.getSqlSession();
</span></span><span class="line"><span class="cl">namicSQLMapper mapper = sqlSession.getMapper(DynamicSQLMapper.class);
</span></span><span class="line"><span class="cl">p emp1 = new Emp(null,&#34;a&#34;,1,&#34;ç”·&#34;,&#34;123@321.com&#34;,null);
</span></span><span class="line"><span class="cl">p emp2 = new Emp(null,&#34;b&#34;,1,&#34;ç”·&#34;,&#34;123@321.com&#34;,null);
</span></span><span class="line"><span class="cl">p emp3 = new Emp(null,&#34;c&#34;,1,&#34;ç”·&#34;,&#34;123@321.com&#34;,null);
</span></span><span class="line"><span class="cl">st&lt;Emp&gt; emps = Arrays.asList(emp1, emp2, emp3);
</span></span><span class="line"><span class="cl">t result = mapper.insertMoreByList(emps);
</span></span><span class="line"><span class="cl">stem.out.println(result);
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">](Resources/foreachæµ‹è¯•ç»“æœ2.png)
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h2 id="sqlç‰‡æ®µ">SQLç‰‡æ®µ</h2>
<ul>
<li>sqlç‰‡æ®µï¼Œå¯ä»¥è®°å½•ä¸€æ®µå…¬å…±sqlç‰‡æ®µï¼Œåœ¨ä½¿ç”¨çš„åœ°æ–¹é€šè¿‡includeæ ‡ç­¾è¿›è¡Œå¼•å…¥</li>
<li>å£°æ˜sqlç‰‡æ®µï¼š<code>&lt;sql&gt;</code>æ ‡ç­¾</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;sql</span> <span class="na">id=</span><span class="s">&#34;empColumns&#34;</span><span class="nt">&gt;</span>eid,emp_name,age,sex,email<span class="nt">&lt;/sql&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>å¼•ç”¨sqlç‰‡æ®µï¼š<code>&lt;include&gt;</code>æ ‡ç­¾</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!--List&lt;Emp&gt; getEmpByCondition(Emp emp);--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&#34;getEmpByCondition&#34;</span> <span class="na">resultType=</span><span class="s">&#34;Emp&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">	select <span class="nt">&lt;include</span> <span class="na">refid=</span><span class="s">&#34;empColumns&#34;</span><span class="nt">&gt;&lt;/include&gt;</span> from t_emp
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="mybatisçš„ç¼“å­˜">MyBatisçš„ç¼“å­˜</h1>
<h2 id="mybatisçš„ä¸€çº§ç¼“å­˜">MyBatisçš„ä¸€çº§ç¼“å­˜</h2>
<ul>
<li>
<p>ä¸€çº§ç¼“å­˜æ˜¯SqlSessionçº§åˆ«çš„ï¼Œé€šè¿‡åŒä¸€ä¸ªSqlSessionæŸ¥è¯¢çš„æ•°æ®ä¼šè¢«ç¼“å­˜ï¼Œä¸‹æ¬¡æŸ¥è¯¢ç›¸åŒçš„æ•°æ®ï¼Œå°±ä¼šä»ç¼“å­˜ä¸­ç›´æ¥è·å–ï¼Œä¸ä¼šä»æ•°æ®åº“é‡æ–°è®¿é—®</p>
</li>
<li>
<p>ä½¿ä¸€çº§ç¼“å­˜å¤±æ•ˆçš„å››ç§æƒ…å†µï¼š</p>
<ol>
<li>ä¸åŒçš„SqlSessionå¯¹åº”ä¸åŒçš„ä¸€çº§ç¼“å­˜</li>
<li>åŒä¸€ä¸ªSqlSessionä½†æ˜¯æŸ¥è¯¢æ¡ä»¶ä¸åŒ</li>
<li>åŒä¸€ä¸ªSqlSessionä¸¤æ¬¡æŸ¥è¯¢æœŸé—´æ‰§è¡Œäº†ä»»ä½•ä¸€æ¬¡å¢åˆ æ”¹æ“ä½œ</li>
<li>åŒä¸€ä¸ªSqlSessionä¸¤æ¬¡æŸ¥è¯¢æœŸé—´æ‰‹åŠ¨æ¸…ç©ºäº†ç¼“å­˜</li>
</ol>
</li>
</ul>
<h2 id="mybatisçš„äºŒçº§ç¼“å­˜">MyBatisçš„äºŒçº§ç¼“å­˜</h2>
<ul>
<li>
<p>äºŒçº§ç¼“å­˜æ˜¯SqlSessionFactoryçº§åˆ«ï¼Œé€šè¿‡åŒä¸€ä¸ªSqlSessionFactoryåˆ›å»ºçš„SqlSessionæŸ¥è¯¢çš„ç»“æœä¼šè¢«ç¼“å­˜ï¼›æ­¤åè‹¥å†æ¬¡æ‰§è¡Œç›¸åŒçš„æŸ¥è¯¢è¯­å¥ï¼Œç»“æœå°±ä¼šä»ç¼“å­˜ä¸­è·å–</p>
</li>
<li>
<p>äºŒçº§ç¼“å­˜å¼€å¯çš„æ¡ä»¶</p>
<ol>
<li>åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ï¼Œè®¾ç½®å…¨å±€é…ç½®å±æ€§cacheEnabled=&ldquo;true&rdquo;ï¼Œé»˜è®¤ä¸ºtrueï¼Œä¸éœ€è¦è®¾ç½®</li>
<li>åœ¨æ˜ å°„æ–‡ä»¶ä¸­è®¾ç½®æ ‡ç­¾<!-- raw HTML omitted --></li>
<li>äºŒçº§ç¼“å­˜å¿…é¡»åœ¨SqlSessionå…³é—­æˆ–æäº¤ä¹‹åæœ‰æ•ˆ</li>
<li>æŸ¥è¯¢çš„æ•°æ®æ‰€è½¬æ¢çš„å®ä½“ç±»ç±»å‹å¿…é¡»å®ç°åºåˆ—åŒ–çš„æ¥å£</li>
</ol>
</li>
<li>
<p>ä½¿äºŒçº§ç¼“å­˜å¤±æ•ˆçš„æƒ…å†µï¼šä¸¤æ¬¡æŸ¥è¯¢ä¹‹é—´æ‰§è¡Œäº†ä»»æ„çš„å¢åˆ æ”¹ï¼Œä¼šä½¿ä¸€çº§å’ŒäºŒçº§ç¼“å­˜åŒæ—¶å¤±æ•ˆ</p>
</li>
</ul>
<h2 id="äºŒçº§ç¼“å­˜çš„ç›¸å…³é…ç½®">äºŒçº§ç¼“å­˜çš„ç›¸å…³é…ç½®</h2>
<ul>
<li>åœ¨mapperé…ç½®æ–‡ä»¶ä¸­æ·»åŠ çš„cacheæ ‡ç­¾å¯ä»¥è®¾ç½®ä¸€äº›å±æ€§</li>
<li>evictionå±æ€§ï¼šç¼“å­˜å›æ”¶ç­–ç•¥</li>
<li>LRUï¼ˆLeast Recently Usedï¼‰ â€“ æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„ï¼šç§»é™¤æœ€é•¿æ—¶é—´ä¸è¢«ä½¿ç”¨çš„å¯¹è±¡ã€‚
<ul>
<li>FIFOï¼ˆFirst in First outï¼‰ â€“ å…ˆè¿›å…ˆå‡ºï¼šæŒ‰å¯¹è±¡è¿›å…¥ç¼“å­˜çš„é¡ºåºæ¥ç§»é™¤å®ƒä»¬ã€‚</li>
<li>SOFT â€“ è½¯å¼•ç”¨ï¼šç§»é™¤åŸºäºåƒåœ¾å›æ”¶å™¨çŠ¶æ€å’Œè½¯å¼•ç”¨è§„åˆ™çš„å¯¹è±¡ã€‚</li>
<li>WEAK â€“ å¼±å¼•ç”¨ï¼šæ›´ç§¯æåœ°ç§»é™¤åŸºäºåƒåœ¾æ”¶é›†å™¨çŠ¶æ€å’Œå¼±å¼•ç”¨è§„åˆ™çš„å¯¹è±¡ã€‚</li>
<li>é»˜è®¤çš„æ˜¯ LRU</li>
</ul>
</li>
<li>flushIntervalå±æ€§ï¼šåˆ·æ–°é—´éš”ï¼Œå•ä½æ¯«ç§’</li>
<li>é»˜è®¤æƒ…å†µæ˜¯ä¸è®¾ç½®ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰åˆ·æ–°é—´éš”ï¼Œç¼“å­˜ä»…ä»…è°ƒç”¨è¯­å¥ï¼ˆå¢åˆ æ”¹ï¼‰æ—¶åˆ·æ–°</li>
<li>sizeå±æ€§ï¼šå¼•ç”¨æ•°ç›®ï¼Œæ­£æ•´æ•°</li>
<li>ä»£è¡¨ç¼“å­˜æœ€å¤šå¯ä»¥å­˜å‚¨å¤šå°‘ä¸ªå¯¹è±¡ï¼Œå¤ªå¤§å®¹æ˜“å¯¼è‡´å†…å­˜æº¢å‡º</li>
<li>readOnlyå±æ€§ï¼šåªè¯»ï¼Œtrue/false</li>
<li>trueï¼šåªè¯»ç¼“å­˜ï¼›ä¼šç»™æ‰€æœ‰è°ƒç”¨è€…è¿”å›ç¼“å­˜å¯¹è±¡çš„ç›¸åŒå®ä¾‹ã€‚å› æ­¤è¿™äº›å¯¹è±¡ä¸èƒ½è¢«ä¿®æ”¹ã€‚è¿™æä¾›äº†å¾ˆé‡è¦çš„æ€§èƒ½ä¼˜åŠ¿ã€‚
<ul>
<li>falseï¼šè¯»å†™ç¼“å­˜ï¼›ä¼šè¿”å›ç¼“å­˜å¯¹è±¡çš„æ‹·è´ï¼ˆé€šè¿‡åºåˆ—åŒ–ï¼‰ã€‚è¿™ä¼šæ…¢ä¸€äº›ï¼Œä½†æ˜¯å®‰å…¨ï¼Œå› æ­¤é»˜è®¤æ˜¯false</li>
</ul>
</li>
</ul>
<h2 id="mybatisç¼“å­˜æŸ¥è¯¢çš„é¡ºåº">MyBatisç¼“å­˜æŸ¥è¯¢çš„é¡ºåº</h2>
<ul>
<li>å…ˆæŸ¥è¯¢äºŒçº§ç¼“å­˜ï¼Œå› ä¸ºäºŒçº§ç¼“å­˜ä¸­å¯èƒ½ä¼šæœ‰å…¶ä»–ç¨‹åºå·²ç»æŸ¥å‡ºæ¥çš„æ•°æ®ï¼Œå¯ä»¥æ‹¿æ¥ç›´æ¥ä½¿ç”¨</li>
<li>å¦‚æœäºŒçº§ç¼“å­˜æ²¡æœ‰å‘½ä¸­ï¼Œå†æŸ¥è¯¢ä¸€çº§ç¼“å­˜</li>
<li>å¦‚æœä¸€çº§ç¼“å­˜ä¹Ÿæ²¡æœ‰å‘½ä¸­ï¼Œåˆ™æŸ¥è¯¢æ•°æ®åº“</li>
<li>SqlSessionå…³é—­ä¹‹åï¼Œä¸€çº§ç¼“å­˜ä¸­çš„æ•°æ®ä¼šå†™å…¥äºŒçº§ç¼“å­˜</li>
</ul>
<h2 id="æ•´åˆç¬¬ä¸‰æ–¹ç¼“å­˜ehcacheäº†è§£">æ•´åˆç¬¬ä¸‰æ–¹ç¼“å­˜EHCacheï¼ˆäº†è§£ï¼‰</h2>
<h3 id="æ·»åŠ ä¾èµ–">æ·»åŠ ä¾èµ–</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!-- Mybatis EHCacheæ•´åˆåŒ… --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;groupId&gt;</span>org.mybatis.caches<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;artifactId&gt;</span>mybatis-ehcache<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;version&gt;</span>1.2.1<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- slf4jæ—¥å¿—é—¨é¢çš„ä¸€ä¸ªå…·ä½“å®ç° --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;groupId&gt;</span>ch.qos.logback<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;artifactId&gt;</span>logback-classic<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;version&gt;</span>1.2.3<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="å„ä¸ªjaråŒ…çš„åŠŸèƒ½">å„ä¸ªjaråŒ…çš„åŠŸèƒ½</h3>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>jaråŒ…åç§°</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>mybatis-ehcache</td>
<td>Mybatiså’ŒEHCacheçš„æ•´åˆåŒ…</td>
</tr>
<tr>
<td>ehcache</td>
<td>EHCacheæ ¸å¿ƒåŒ…</td>
</tr>
<tr>
<td>slf4j-api</td>
<td>SLF4Jæ—¥å¿—é—¨é¢åŒ…</td>
</tr>
<tr>
<td>logback-classic</td>
<td>æ”¯æŒSLF4Jé—¨é¢æ¥å£çš„ä¸€ä¸ªå…·ä½“å®ç°</td>
</tr>
</tbody>
</table></div>
<h3 id="åˆ›å»ºehcacheçš„é…ç½®æ–‡ä»¶ehcachexml">åˆ›å»ºEHCacheçš„é…ç½®æ–‡ä»¶ehcache.xml</h3>
<ul>
<li>åå­—å¿…é¡»å«<code>ehcache.xml</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34; ?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;ehcache</span> <span class="na">xmlns:xsi=</span><span class="s">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span class="line"><span class="cl">         <span class="na">xsi:noNamespaceSchemaLocation=</span><span class="s">&#34;../config/ehcache.xsd&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!-- ç£ç›˜ä¿å­˜è·¯å¾„ --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;diskStore</span> <span class="na">path=</span><span class="s">&#34;D:\atguigu\ehcache&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;defaultCache</span>
</span></span><span class="line"><span class="cl">            <span class="na">maxElementsInMemory=</span><span class="s">&#34;1000&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">maxElementsOnDisk=</span><span class="s">&#34;10000000&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">eternal=</span><span class="s">&#34;false&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">overflowToDisk=</span><span class="s">&#34;true&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">timeToIdleSeconds=</span><span class="s">&#34;120&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">timeToLiveSeconds=</span><span class="s">&#34;120&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">diskExpiryThreadIntervalSeconds=</span><span class="s">&#34;120&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="na">memoryStoreEvictionPolicy=</span><span class="s">&#34;LRU&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/defaultCache&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/ehcache&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="è®¾ç½®äºŒçº§ç¼“å­˜çš„ç±»å‹">è®¾ç½®äºŒçº§ç¼“å­˜çš„ç±»å‹</h3>
<ul>
<li>åœ¨xxxMapper.xmlæ–‡ä»¶ä¸­è®¾ç½®äºŒçº§ç¼“å­˜ç±»å‹</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;cache</span> <span class="na">type=</span><span class="s">&#34;org.mybatis.caches.ehcache.EhcacheCache&#34;</span><span class="nt">/&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="åŠ å…¥logbackæ—¥å¿—">åŠ å…¥logbackæ—¥å¿—</h3>
<ul>
<li>å­˜åœ¨SLF4Jæ—¶ï¼Œä½œä¸ºç®€æ˜“æ—¥å¿—çš„log4jå°†å¤±æ•ˆï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦å€ŸåŠ©SLF4Jçš„å…·ä½“å®ç°logbackæ¥æ‰“å°æ—¥å¿—ã€‚åˆ›å»ºlogbackçš„é…ç½®æ–‡ä»¶<code>logback.xml</code>ï¼Œåå­—å›ºå®šï¼Œä¸å¯æ”¹å˜</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;configuration</span> <span class="na">debug=</span><span class="s">&#34;true&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!-- æŒ‡å®šæ—¥å¿—è¾“å‡ºçš„ä½ç½® --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">&#34;STDOUT&#34;</span>
</span></span><span class="line"><span class="cl">              <span class="na">class=</span><span class="s">&#34;ch.qos.logback.core.ConsoleAppender&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;encoder&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="c">&lt;!-- æ—¥å¿—è¾“å‡ºçš„æ ¼å¼ --&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="c">&lt;!-- æŒ‰ç…§é¡ºåºåˆ†åˆ«æ˜¯ï¼šæ—¶é—´ã€æ—¥å¿—çº§åˆ«ã€çº¿ç¨‹åç§°ã€æ‰“å°æ—¥å¿—çš„ç±»ã€æ—¥å¿—ä¸»ä½“å†…å®¹ã€æ¢è¡Œ --&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;pattern&gt;</span>[%d{HH:mm:ss.SSS}] [%-5level] [%thread] [%logger] [%msg]%n<span class="nt">&lt;/pattern&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/encoder&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/appender&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!-- è®¾ç½®å…¨å±€æ—¥å¿—çº§åˆ«ã€‚æ—¥å¿—çº§åˆ«æŒ‰é¡ºåºåˆ†åˆ«æ˜¯ï¼šDEBUGã€INFOã€WARNã€ERROR --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!-- æŒ‡å®šä»»ä½•ä¸€ä¸ªæ—¥å¿—çº§åˆ«éƒ½åªæ‰“å°å½“å‰çº§åˆ«å’Œåé¢çº§åˆ«çš„æ—¥å¿—ã€‚ --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;root</span> <span class="na">level=</span><span class="s">&#34;DEBUG&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!-- æŒ‡å®šæ‰“å°æ—¥å¿—çš„appenderï¼Œè¿™é‡Œé€šè¿‡â€œSTDOUTâ€å¼•ç”¨äº†å‰é¢é…ç½®çš„appender --&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">&#34;STDOUT&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/root&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!-- æ ¹æ®ç‰¹æ®Šéœ€æ±‚æŒ‡å®šå±€éƒ¨æ—¥å¿—çº§åˆ« --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;logger</span> <span class="na">name=</span><span class="s">&#34;com.atguigu.crowd.mapper&#34;</span> <span class="na">level=</span><span class="s">&#34;DEBUG&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/configuration&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ehcacheé…ç½®æ–‡ä»¶è¯´æ˜">EHCacheé…ç½®æ–‡ä»¶è¯´æ˜</h3>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>å±æ€§å</th>
<th>æ˜¯å¦å¿…é¡»</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>maxElementsInMemory</td>
<td>æ˜¯</td>
<td>åœ¨å†…å­˜ä¸­ç¼“å­˜çš„elementçš„æœ€å¤§æ•°ç›®</td>
</tr>
<tr>
<td>maxElementsOnDisk</td>
<td>æ˜¯</td>
<td>åœ¨ç£ç›˜ä¸Šç¼“å­˜çš„elementçš„æœ€å¤§æ•°ç›®ï¼Œè‹¥æ˜¯0è¡¨ç¤ºæ— ç©·å¤§</td>
</tr>
<tr>
<td>eternal</td>
<td>æ˜¯</td>
<td>è®¾å®šç¼“å­˜çš„elementsæ˜¯å¦æ°¸è¿œä¸è¿‡æœŸã€‚ å¦‚æœä¸ºtrueï¼Œåˆ™ç¼“å­˜çš„æ•°æ®å§‹ç»ˆæœ‰æ•ˆï¼Œ å¦‚æœä¸ºfalseé‚£ä¹ˆè¿˜è¦æ ¹æ®timeToIdleSecondsã€timeToLiveSecondsåˆ¤æ–­</td>
</tr>
<tr>
<td>overflowToDisk</td>
<td>æ˜¯</td>
<td>è®¾å®šå½“å†…å­˜ç¼“å­˜æº¢å‡ºçš„æ—¶å€™æ˜¯å¦å°†è¿‡æœŸçš„elementç¼“å­˜åˆ°ç£ç›˜ä¸Š</td>
</tr>
<tr>
<td>timeToIdleSeconds</td>
<td>å¦</td>
<td>å½“ç¼“å­˜åœ¨EhCacheä¸­çš„æ•°æ®å‰åä¸¤æ¬¡è®¿é—®çš„æ—¶é—´è¶…è¿‡timeToIdleSecondsçš„å±æ€§å–å€¼æ—¶ï¼Œ è¿™äº›æ•°æ®ä¾¿ä¼šåˆ é™¤ï¼Œé»˜è®¤å€¼æ˜¯0,ä¹Ÿå°±æ˜¯å¯é—²ç½®æ—¶é—´æ— ç©·å¤§</td>
</tr>
<tr>
<td>timeToLiveSeconds</td>
<td>å¦</td>
<td>ç¼“å­˜elementçš„æœ‰æ•ˆç”Ÿå‘½æœŸï¼Œé»˜è®¤æ˜¯0.,ä¹Ÿå°±æ˜¯elementå­˜æ´»æ—¶é—´æ— ç©·å¤§</td>
</tr>
<tr>
<td>diskSpoolBufferSizeMB</td>
<td>å¦</td>
<td>DiskStore(ç£ç›˜ç¼“å­˜)çš„ç¼“å­˜åŒºå¤§å°ã€‚é»˜è®¤æ˜¯30MBã€‚æ¯ä¸ªCacheéƒ½åº”è¯¥æœ‰è‡ªå·±çš„ä¸€ä¸ªç¼“å†²åŒº</td>
</tr>
<tr>
<td>diskPersistent</td>
<td>å¦</td>
<td>åœ¨VMé‡å¯çš„æ—¶å€™æ˜¯å¦å¯ç”¨ç£ç›˜ä¿å­˜EhCacheä¸­çš„æ•°æ®ï¼Œé»˜è®¤æ˜¯false</td>
</tr>
<tr>
<td>diskExpiryThreadIntervalSeconds</td>
<td>å¦</td>
<td>ç£ç›˜ç¼“å­˜çš„æ¸…ç†çº¿ç¨‹è¿è¡Œé—´éš”ï¼Œé»˜è®¤æ˜¯120ç§’ã€‚æ¯ä¸ª120sï¼Œ ç›¸åº”çš„çº¿ç¨‹ä¼šè¿›è¡Œä¸€æ¬¡EhCacheä¸­æ•°æ®çš„æ¸…ç†å·¥ä½œ</td>
</tr>
<tr>
<td>memoryStoreEvictionPolicy</td>
<td>å¦</td>
<td>å½“å†…å­˜ç¼“å­˜è¾¾åˆ°æœ€å¤§ï¼Œæœ‰æ–°çš„elementåŠ å…¥çš„æ—¶å€™ï¼Œ ç§»é™¤ç¼“å­˜ä¸­elementçš„ç­–ç•¥ã€‚ é»˜è®¤æ˜¯LRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰ï¼Œå¯é€‰çš„æœ‰LFUï¼ˆæœ€ä¸å¸¸ä½¿ç”¨ï¼‰å’ŒFIFOï¼ˆå…ˆè¿›å…ˆå‡º</td>
</tr>
</tbody>
</table></div>
<h1 id="mybatisçš„é€†å‘å·¥ç¨‹">MyBatisçš„é€†å‘å·¥ç¨‹</h1>
<ul>
<li>æ­£å‘å·¥ç¨‹ï¼šå…ˆåˆ›å»ºJavaå®ä½“ç±»ï¼Œç”±æ¡†æ¶è´Ÿè´£æ ¹æ®å®ä½“ç±»ç”Ÿæˆæ•°æ®åº“è¡¨ã€‚Hibernateæ˜¯æ”¯æŒæ­£å‘å·¥ç¨‹çš„</li>
<li>é€†å‘å·¥ç¨‹ï¼šå…ˆåˆ›å»ºæ•°æ®åº“è¡¨ï¼Œç”±æ¡†æ¶è´Ÿè´£æ ¹æ®æ•°æ®åº“è¡¨ï¼Œåå‘ç”Ÿæˆå¦‚ä¸‹èµ„æºï¼š</li>
<li>Javaå®ä½“ç±»
<ul>
<li>Mapperæ¥å£</li>
<li>Mapperæ˜ å°„æ–‡ä»¶</li>
</ul>
</li>
</ul>
<h2 id="åˆ›å»ºé€†å‘å·¥ç¨‹çš„æ­¥éª¤">åˆ›å»ºé€†å‘å·¥ç¨‹çš„æ­¥éª¤</h2>
<h3 id="æ·»åŠ ä¾èµ–å’Œæ’ä»¶">æ·»åŠ ä¾èµ–å’Œæ’ä»¶</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;dependencies&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="c">&lt;!-- MyBatisæ ¸å¿ƒä¾èµ–åŒ… --&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;groupId&gt;</span>org.mybatis<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;artifactId&gt;</span>mybatis<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;version&gt;</span>3.5.9<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="c">&lt;!-- junitæµ‹è¯• --&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;groupId&gt;</span>junit<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;artifactId&gt;</span>junit<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;version&gt;</span>4.13.2<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="c">&lt;!-- MySQLé©±åŠ¨ --&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;groupId&gt;</span>mysql<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;artifactId&gt;</span>mysql-connector-java<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;version&gt;</span>8.0.27<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="c">&lt;!-- log4jæ—¥å¿— --&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;groupId&gt;</span>log4j<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;artifactId&gt;</span>log4j<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;version&gt;</span>1.2.17<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/dependencies&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!-- æ§åˆ¶Mavenåœ¨æ„å»ºè¿‡ç¨‹ä¸­ç›¸å…³é…ç½® --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;build&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="c">&lt;!-- æ„å»ºè¿‡ç¨‹ä¸­ç”¨åˆ°çš„æ’ä»¶ --&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;plugins&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="c">&lt;!-- å…·ä½“æ’ä»¶ï¼Œé€†å‘å·¥ç¨‹çš„æ“ä½œæ˜¯ä»¥æ„å»ºè¿‡ç¨‹ä¸­æ’ä»¶å½¢å¼å‡ºç°çš„ --&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;plugin&gt;</span>
</span></span><span class="line"><span class="cl">			<span class="nt">&lt;groupId&gt;</span>org.mybatis.generator<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">			<span class="nt">&lt;artifactId&gt;</span>mybatis-generator-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">			<span class="nt">&lt;version&gt;</span>1.3.0<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">			<span class="c">&lt;!-- æ’ä»¶çš„ä¾èµ– --&gt;</span>
</span></span><span class="line"><span class="cl">			<span class="nt">&lt;dependencies&gt;</span>
</span></span><span class="line"><span class="cl">				<span class="c">&lt;!-- é€†å‘å·¥ç¨‹çš„æ ¸å¿ƒä¾èµ– --&gt;</span>
</span></span><span class="line"><span class="cl">				<span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">					<span class="nt">&lt;groupId&gt;</span>org.mybatis.generator<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">					<span class="nt">&lt;artifactId&gt;</span>mybatis-generator-core<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">					<span class="nt">&lt;version&gt;</span>1.3.2<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">				<span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">				<span class="c">&lt;!-- æ•°æ®åº“è¿æ¥æ±  --&gt;</span>
</span></span><span class="line"><span class="cl">				<span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">					<span class="nt">&lt;groupId&gt;</span>com.mchange<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">					<span class="nt">&lt;artifactId&gt;</span>c3p0<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">					<span class="nt">&lt;version&gt;</span>0.9.2<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">				<span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">				<span class="c">&lt;!-- MySQLé©±åŠ¨ --&gt;</span>
</span></span><span class="line"><span class="cl">				<span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">					<span class="nt">&lt;groupId&gt;</span>mysql<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">					<span class="nt">&lt;artifactId&gt;</span>mysql-connector-java<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">					<span class="nt">&lt;version&gt;</span>8.0.27<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">				<span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">			<span class="nt">&lt;/dependencies&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;/plugin&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;/plugins&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/build&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="åˆ›å»ºmybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶-1">åˆ›å»ºMyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; ?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE configuration
</span></span></span><span class="line"><span class="cl"><span class="cp">        PUBLIC &#34;-//mybatis.org//DTD Config 3.0//EN&#34;
</span></span></span><span class="line"><span class="cl"><span class="cp">        &#34;http://mybatis.org/dtd/mybatis-3-config.dtd&#34;&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;configuration&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;properties</span> <span class="na">resource=</span><span class="s">&#34;jdbc.properties&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;typeAliases&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;package</span> <span class="na">name=</span><span class="s">&#34;&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/typeAliases&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;environments</span> <span class="na">default=</span><span class="s">&#34;development&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;environment</span> <span class="na">id=</span><span class="s">&#34;development&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;transactionManager</span> <span class="na">type=</span><span class="s">&#34;JDBC&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dataSource</span> <span class="na">type=</span><span class="s">&#34;POOLED&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;driver&#34;</span> <span class="na">value=</span><span class="s">&#34;${jdbc.driver}&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;url&#34;</span> <span class="na">value=</span><span class="s">&#34;${jdbc.url}&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;username&#34;</span> <span class="na">value=</span><span class="s">&#34;${jdbc.username}&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;password&#34;</span> <span class="na">value=</span><span class="s">&#34;${jdbc.password}&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dataSource&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/environment&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/environments&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;mappers&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;package</span> <span class="na">name=</span><span class="s">&#34;&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/mappers&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/configuration&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="åˆ›å»ºé€†å‘å·¥ç¨‹çš„é…ç½®æ–‡ä»¶">åˆ›å»ºé€†å‘å·¥ç¨‹çš„é…ç½®æ–‡ä»¶</h3>
<ul>
<li>æ–‡ä»¶åå¿…é¡»æ˜¯ï¼š<code>generatorConfig.xml</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE generatorConfiguration
</span></span></span><span class="line"><span class="cl"><span class="cp">        PUBLIC &#34;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&#34;
</span></span></span><span class="line"><span class="cl"><span class="cp">        &#34;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&#34;&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;generatorConfiguration&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--
</span></span></span><span class="line"><span class="cl"><span class="c">    targetRuntime: æ‰§è¡Œç”Ÿæˆçš„é€†å‘å·¥ç¨‹çš„ç‰ˆæœ¬
</span></span></span><span class="line"><span class="cl"><span class="c">    MyBatis3Simple: ç”ŸæˆåŸºæœ¬çš„CRUDï¼ˆæ¸…æ–°ç®€æ´ç‰ˆï¼‰
</span></span></span><span class="line"><span class="cl"><span class="c">    MyBatis3: ç”Ÿæˆå¸¦æ¡ä»¶çš„CRUDï¼ˆå¥¢åå°Šäº«ç‰ˆï¼‰
</span></span></span><span class="line"><span class="cl"><span class="c">    --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;context</span> <span class="na">id=</span><span class="s">&#34;DB2Tables&#34;</span> <span class="na">targetRuntime=</span><span class="s">&#34;MyBatis3Simple&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!-- æ•°æ®åº“çš„è¿æ¥ä¿¡æ¯ --&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;jdbcConnection</span> <span class="na">driverClass=</span><span class="s">&#34;com.mysql.cj.jdbc.Driver&#34;</span>
</span></span><span class="line"><span class="cl">                        <span class="na">connectionURL=</span><span class="s">&#34;jdbc:mysql://localhost:3306/mybatis&#34;</span>
</span></span><span class="line"><span class="cl">                        <span class="na">userId=</span><span class="s">&#34;root&#34;</span>
</span></span><span class="line"><span class="cl">                        <span class="na">password=</span><span class="s">&#34;123456&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/jdbcConnection&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!-- javaBeançš„ç”Ÿæˆç­–ç•¥--&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;javaModelGenerator</span> <span class="na">targetPackage=</span><span class="s">&#34;com.atguigu.mybatis.pojo&#34;</span> <span class="na">targetProject=</span><span class="s">&#34;.\src\main\java&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;enableSubPackages&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;trimStrings&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/javaModelGenerator&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!-- SQLæ˜ å°„æ–‡ä»¶çš„ç”Ÿæˆç­–ç•¥ --&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;sqlMapGenerator</span> <span class="na">targetPackage=</span><span class="s">&#34;com.atguigu.mybatis.mapper&#34;</span>
</span></span><span class="line"><span class="cl">                         <span class="na">targetProject=</span><span class="s">&#34;.\src\main\resources&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;enableSubPackages&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/sqlMapGenerator&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!-- Mapperæ¥å£çš„ç”Ÿæˆç­–ç•¥ --&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;javaClientGenerator</span> <span class="na">type=</span><span class="s">&#34;XMLMAPPER&#34;</span>
</span></span><span class="line"><span class="cl">                             <span class="na">targetPackage=</span><span class="s">&#34;com.atguigu.mybatis.mapper&#34;</span> <span class="na">targetProject=</span><span class="s">&#34;.\src\main\java&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&#34;enableSubPackages&#34;</span> <span class="na">value=</span><span class="s">&#34;true&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/javaClientGenerator&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!-- é€†å‘åˆ†æçš„è¡¨ --&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!-- tableNameè®¾ç½®ä¸º*å·ï¼Œå¯ä»¥å¯¹åº”æ‰€æœ‰è¡¨ï¼Œæ­¤æ—¶ä¸å†™domainObjectName --&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="c">&lt;!-- domainObjectNameå±æ€§æŒ‡å®šç”Ÿæˆå‡ºæ¥çš„å®ä½“ç±»çš„ç±»å --&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;table</span> <span class="na">tableName=</span><span class="s">&#34;t_emp&#34;</span> <span class="na">domainObjectName=</span><span class="s">&#34;Emp&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;table</span> <span class="na">tableName=</span><span class="s">&#34;t_dept&#34;</span> <span class="na">domainObjectName=</span><span class="s">&#34;Dept&#34;</span><span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/context&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/generatorConfiguration&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="æ‰§è¡Œmbgæ’ä»¶çš„generateç›®æ ‡">æ‰§è¡ŒMBGæ’ä»¶çš„generateç›®æ ‡</h3>
<ul>
<li><img src="/D:%5c%e8%bf%85%e9%9b%b7%e4%b8%8b%e8%bd%bd%5cMyBatis%5cMyBatis%5cResources%5c%e6%89%a7%e8%a1%8cMBG%e6%8f%92%e4%bb%b6%e7%9a%84generate%e7%9b%ae%e6%a0%87.png"
	
	
	
	loading="lazy"
	
	
></li>
<li>å¦‚æœå‡ºç°æŠ¥é”™ï¼š<code>Exception getting JDBC Driver</code>ï¼Œå¯èƒ½æ˜¯pom.xmlä¸­ï¼Œæ•°æ®åº“é©±åŠ¨é…ç½®é”™è¯¯</li>
<li>dependencyä¸­çš„é©±åŠ¨<img src="/D:%5c%e8%bf%85%e9%9b%b7%e4%b8%8b%e8%bd%bd%5cMyBatis%5cMyBatis%5cResources%5cdependency%e4%b8%ad%e7%9a%84%e9%a9%b1%e5%8a%a8.png"
	
	
	
	loading="lazy"
	
	
>
<ul>
<li>mybatis-generator-maven-pluginæ’ä»¶ä¸­çš„é©±åŠ¨<img src="/D:%5c%e8%bf%85%e9%9b%b7%e4%b8%8b%e8%bd%bd%5cMyBatis%5cMyBatis%5cResources%5c%e6%8f%92%e4%bb%b6%e4%b8%ad%e7%9a%84%e9%a9%b1%e5%8a%a8.png"
	
	
	
	loading="lazy"
	
	
></li>
<li>ä¸¤è€…çš„é©±åŠ¨ç‰ˆæœ¬åº”è¯¥ç›¸åŒ</li>
</ul>
</li>
<li>æ‰§è¡Œç»“æœ<img src="/D:%5c%e8%bf%85%e9%9b%b7%e4%b8%8b%e8%bd%bd%5cMyBatis%5cMyBatis%5cResources%5c%e9%80%86%e5%90%91%e6%89%a7%e8%a1%8c%e7%bb%93%e6%9e%9c.png"
	
	
	
	loading="lazy"
	
	
></li>
</ul>
<h2 id="qbc">QBC</h2>
<h3 id="æŸ¥è¯¢">æŸ¥è¯¢</h3>
<ul>
<li><code>selectByExample</code>ï¼šæŒ‰æ¡ä»¶æŸ¥è¯¢ï¼Œéœ€è¦ä¼ å…¥ä¸€ä¸ªexampleå¯¹è±¡æˆ–è€…nullï¼›å¦‚æœä¼ å…¥ä¸€ä¸ªnullï¼Œåˆ™è¡¨ç¤ºæ²¡æœ‰æ¡ä»¶ï¼Œä¹Ÿå°±æ˜¯æŸ¥è¯¢æ‰€æœ‰æ•°æ®</li>
<li><code>example.createCriteria().xxx</code>ï¼šåˆ›å»ºæ¡ä»¶å¯¹è±¡ï¼Œé€šè¿‡andXXXæ–¹æ³•ä¸ºSQLæ·»åŠ æŸ¥è¯¢æ·»åŠ ï¼Œæ¯ä¸ªæ¡ä»¶ä¹‹é—´æ˜¯andå…³ç³»</li>
<li><code>example.or().xxx</code>ï¼šå°†ä¹‹å‰æ·»åŠ çš„æ¡ä»¶é€šè¿‡oræ‹¼æ¥å…¶ä»–æ¡ä»¶
<img src="/D:%5c%e8%bf%85%e9%9b%b7%e4%b8%8b%e8%bd%bd%5cMyBatis%5cMyBatis%5cResources%5cexample%e7%9a%84%e6%96%b9%e6%b3%95.png"
	
	
	
	loading="lazy"
	
	
></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testMBG</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">InputStream</span> <span class="n">is</span> <span class="o">=</span> <span class="n">Resources</span><span class="o">.</span><span class="na">getResourceAsStream</span><span class="o">(</span><span class="s">&#34;mybatis-config.xml&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">SqlSessionFactoryBuilder</span> <span class="n">sqlSessionFactoryBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SqlSessionFactoryBuilder</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">	<span class="n">SqlSessionFactory</span> <span class="n">sqlSessionFactory</span> <span class="o">=</span> <span class="n">sqlSessionFactoryBuilder</span><span class="o">.</span><span class="na">build</span><span class="o">(</span><span class="n">is</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">SqlSession</span> <span class="n">sqlSession</span> <span class="o">=</span> <span class="n">sqlSessionFactory</span><span class="o">.</span><span class="na">openSession</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">EmpMapper</span> <span class="n">mapper</span> <span class="o">=</span> <span class="n">sqlSession</span><span class="o">.</span><span class="na">getMapper</span><span class="o">(</span><span class="n">EmpMapper</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">EmpExample</span> <span class="n">example</span> <span class="o">=</span> <span class="k">new</span> <span class="n">EmpExample</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//åå­—ä¸ºå¼ ä¸‰ï¼Œä¸”å¹´é¾„å¤§äºç­‰äº20
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">example</span><span class="o">.</span><span class="na">createCriteria</span><span class="o">().</span><span class="na">andEmpNameEqualTo</span><span class="o">(</span><span class="s">&#34;å¼ ä¸‰&#34;</span><span class="o">).</span><span class="na">andAgeGreaterThanOrEqualTo</span><span class="o">(</span><span class="n">20</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//æˆ–è€…didä¸ä¸ºç©º
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">example</span><span class="o">.</span><span class="na">or</span><span class="o">().</span><span class="na">andDidIsNotNull</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">	<span class="n">List</span><span class="o">&lt;</span><span class="n">Emp</span><span class="o">&gt;</span> <span class="n">emps</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="na">selectByExample</span><span class="o">(</span><span class="n">example</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">emps</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/D:%5c%e8%bf%85%e9%9b%b7%e4%b8%8b%e8%bd%bd%5cMyBatis%5cMyBatis%5cResources%5cexample%e6%b5%8b%e8%af%95%e7%bb%93%e6%9e%9c.png"
	
	
	
	loading="lazy"
	
	
></p>
<h3 id="å¢æ”¹">å¢æ”¹</h3>
<ul>
<li><code>updateByPrimaryKey</code>ï¼šé€šè¿‡ä¸»é”®è¿›è¡Œæ•°æ®ä¿®æ”¹ï¼Œå¦‚æœæŸä¸€ä¸ªå€¼ä¸ºnullï¼Œä¹Ÿä¼šå°†å¯¹åº”çš„å­—æ®µæ”¹ä¸ºnull</li>
<li><code>mapper.updateByPrimaryKey(new Emp(1,&quot;admin&quot;,22,null,&quot;456@qq.com&quot;,3));</code>
<ul>
<li><img src="/D:%5c%e8%bf%85%e9%9b%b7%e4%b8%8b%e8%bd%bd%5cMyBatis%5cMyBatis%5cResources%5c%e5%a2%9e%e5%88%a0%e6%94%b9%e6%b5%8b%e8%af%95%e7%bb%93%e6%9e%9c1.png"
	
	
	
	loading="lazy"
	
	
></li>
</ul>
</li>
<li><code>updateByPrimaryKeySelective()</code>ï¼šé€šè¿‡ä¸»é”®è¿›è¡Œé€‰æ‹©æ€§æ•°æ®ä¿®æ”¹ï¼Œå¦‚æœæŸä¸ªå€¼ä¸ºnullï¼Œåˆ™ä¸ä¿®æ”¹è¿™ä¸ªå­—æ®µ</li>
<li><code>mapper.updateByPrimaryKeySelective(new Emp(2,&quot;admin2&quot;,22,null,&quot;456@qq.com&quot;,3));</code>
<ul>
<li><img src="/D:%5c%e8%bf%85%e9%9b%b7%e4%b8%8b%e8%bd%bd%5cMyBatis%5cMyBatis%5cResources%5c%e5%a2%9e%e5%88%a0%e6%94%b9%e6%b5%8b%e8%af%95%e7%bb%93%e6%9e%9c2.png"
	
	
	
	loading="lazy"
	
	
></li>
</ul>
</li>
</ul>
<h1 id="åˆ†é¡µæ’ä»¶">åˆ†é¡µæ’ä»¶</h1>
<h2 id="åˆ†é¡µæ’ä»¶ä½¿ç”¨æ­¥éª¤">åˆ†é¡µæ’ä»¶ä½¿ç”¨æ­¥éª¤</h2>
<h3 id="æ·»åŠ ä¾èµ–-1">æ·»åŠ ä¾èµ–</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!-- https://mvnrepository.com/artifact/com.github.pagehelper/pagehelper --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;groupId&gt;</span>com.github.pagehelper<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;artifactId&gt;</span>pagehelper<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;version&gt;</span>5.2.0<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="é…ç½®åˆ†é¡µæ’ä»¶">é…ç½®åˆ†é¡µæ’ä»¶</h3>
<ul>
<li>åœ¨MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼ˆmybatis-config.xmlï¼‰ä¸­é…ç½®æ’ä»¶</li>
<li><img src="/D:%5c%e8%bf%85%e9%9b%b7%e4%b8%8b%e8%bd%bd%5cMyBatis%5cMyBatis%5cResources%5c%e9%85%8d%e7%bd%ae%e5%88%86%e9%a1%b5%e6%8f%92%e4%bb%b6.png"
	
	
	
	loading="lazy"
	
	
></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;plugins&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="c">&lt;!--è®¾ç½®åˆ†é¡µæ’ä»¶--&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&lt;plugin</span> <span class="na">interceptor=</span><span class="s">&#34;com.github.pagehelper.PageInterceptor&#34;</span><span class="nt">&gt;&lt;/plugin&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/plugins&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="åˆ†é¡µæ’ä»¶çš„ä½¿ç”¨">åˆ†é¡µæ’ä»¶çš„ä½¿ç”¨</h2>
<h3 id="å¼€å¯åˆ†é¡µåŠŸèƒ½">å¼€å¯åˆ†é¡µåŠŸèƒ½</h3>
<ul>
<li>åœ¨æŸ¥è¯¢åŠŸèƒ½ä¹‹å‰ä½¿ç”¨<code>PageHelper.startPage(int pageNum, int pageSize)</code>å¼€å¯åˆ†é¡µåŠŸèƒ½</li>
<li>pageNumï¼šå½“å‰é¡µçš„é¡µç 
<ul>
<li>pageSizeï¼šæ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testPageHelper</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">InputStream</span> <span class="n">is</span> <span class="o">=</span> <span class="n">Resources</span><span class="o">.</span><span class="na">getResourceAsStream</span><span class="o">(</span><span class="s">&#34;mybatis-config.xml&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">SqlSessionFactoryBuilder</span> <span class="n">sqlSessionFactoryBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SqlSessionFactoryBuilder</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">	<span class="n">SqlSessionFactory</span> <span class="n">sqlSessionFactory</span> <span class="o">=</span> <span class="n">sqlSessionFactoryBuilder</span><span class="o">.</span><span class="na">build</span><span class="o">(</span><span class="n">is</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">SqlSession</span> <span class="n">sqlSession</span> <span class="o">=</span> <span class="n">sqlSessionFactory</span><span class="o">.</span><span class="na">openSession</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">EmpMapper</span> <span class="n">mapper</span> <span class="o">=</span> <span class="n">sqlSession</span><span class="o">.</span><span class="na">getMapper</span><span class="o">(</span><span class="n">EmpMapper</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//è®¿é—®ç¬¬ä¸€é¡µï¼Œæ¯é¡µå››æ¡æ•°æ®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">PageHelper</span><span class="o">.</span><span class="na">startPage</span><span class="o">(</span><span class="n">1</span><span class="o">,</span><span class="n">4</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">List</span><span class="o">&lt;</span><span class="n">Emp</span><span class="o">&gt;</span> <span class="n">emps</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="na">selectByExample</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">emps</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/D:%5c%e8%bf%85%e9%9b%b7%e4%b8%8b%e8%bd%bd%5cMyBatis%5cMyBatis%5cResources%5c%e5%88%86%e9%a1%b5%e6%b5%8b%e8%af%95%e7%bb%93%e6%9e%9c.png"
	
	
	
	loading="lazy"
	
	
></p>
<h3 id="åˆ†é¡µç›¸å…³æ•°æ®">åˆ†é¡µç›¸å…³æ•°æ®</h3>
<h4 id="æ–¹æ³•ä¸€ç›´æ¥è¾“å‡º">æ–¹æ³•ä¸€ï¼šç›´æ¥è¾“å‡º</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testPageHelper</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">InputStream</span> <span class="n">is</span> <span class="o">=</span> <span class="n">Resources</span><span class="o">.</span><span class="na">getResourceAsStream</span><span class="o">(</span><span class="s">&#34;mybatis-config.xml&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">SqlSessionFactoryBuilder</span> <span class="n">sqlSessionFactoryBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SqlSessionFactoryBuilder</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">	<span class="n">SqlSessionFactory</span> <span class="n">sqlSessionFactory</span> <span class="o">=</span> <span class="n">sqlSessionFactoryBuilder</span><span class="o">.</span><span class="na">build</span><span class="o">(</span><span class="n">is</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">SqlSession</span> <span class="n">sqlSession</span> <span class="o">=</span> <span class="n">sqlSessionFactory</span><span class="o">.</span><span class="na">openSession</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">EmpMapper</span> <span class="n">mapper</span> <span class="o">=</span> <span class="n">sqlSession</span><span class="o">.</span><span class="na">getMapper</span><span class="o">(</span><span class="n">EmpMapper</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//è®¿é—®ç¬¬ä¸€é¡µï¼Œæ¯é¡µå››æ¡æ•°æ®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">Page</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">page</span> <span class="o">=</span> <span class="n">PageHelper</span><span class="o">.</span><span class="na">startPage</span><span class="o">(</span><span class="n">1</span><span class="o">,</span> <span class="n">4</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">List</span><span class="o">&lt;</span><span class="n">Emp</span><span class="o">&gt;</span> <span class="n">emps</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="na">selectByExample</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//åœ¨æŸ¥è¯¢åˆ°Listé›†åˆåï¼Œæ‰“å°åˆ†é¡µæ•°æ®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">page</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>åˆ†é¡µç›¸å…³æ•°æ®ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Page{count=true, pageNum=1, pageSize=4, startRow=0, endRow=4, total=8, pages=2, reasonable=false, pageSizeZero=false}[Emp{eid=1, empName=&#39;admin&#39;, age=22, sex=&#39;ç”·&#39;, email=&#39;456@qq.com&#39;, did=3}, Emp{eid=2, empName=&#39;admin2&#39;, age=22, sex=&#39;ç”·&#39;, email=&#39;456@qq.com&#39;, did=3}, Emp{eid=3, empName=&#39;ç‹äº”&#39;, age=12, sex=&#39;å¥³&#39;, email=&#39;123@qq.com&#39;, did=3}, Emp{eid=4, empName=&#39;èµµå…­&#39;, age=32, sex=&#39;ç”·&#39;, email=&#39;123@qq.com&#39;, did=1}]
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h4 id="æ–¹æ³•äºŒä½¿ç”¨pageinfo">æ–¹æ³•äºŒä½¿ç”¨PageInfo</h4>
<ul>
<li>åœ¨æŸ¥è¯¢è·å–listé›†åˆä¹‹åï¼Œä½¿ç”¨<code>PageInfo&lt;T&gt; pageInfo = new PageInfo&lt;&gt;(List&lt;T&gt; list, intnavigatePages)</code>è·å–åˆ†é¡µç›¸å…³æ•°æ®</li>
<li>listï¼šåˆ†é¡µä¹‹åçš„æ•°æ®
<ul>
<li>navigatePagesï¼šå¯¼èˆªåˆ†é¡µçš„é¡µç æ•°</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testPageHelper</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">InputStream</span> <span class="n">is</span> <span class="o">=</span> <span class="n">Resources</span><span class="o">.</span><span class="na">getResourceAsStream</span><span class="o">(</span><span class="s">&#34;mybatis-config.xml&#34;</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">SqlSessionFactoryBuilder</span> <span class="n">sqlSessionFactoryBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SqlSessionFactoryBuilder</span><span class="o">();</span>
</span></span><span class="line"><span class="cl">	<span class="n">SqlSessionFactory</span> <span class="n">sqlSessionFactory</span> <span class="o">=</span> <span class="n">sqlSessionFactoryBuilder</span><span class="o">.</span><span class="na">build</span><span class="o">(</span><span class="n">is</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">SqlSession</span> <span class="n">sqlSession</span> <span class="o">=</span> <span class="n">sqlSessionFactory</span><span class="o">.</span><span class="na">openSession</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">EmpMapper</span> <span class="n">mapper</span> <span class="o">=</span> <span class="n">sqlSession</span><span class="o">.</span><span class="na">getMapper</span><span class="o">(</span><span class="n">EmpMapper</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">PageHelper</span><span class="o">.</span><span class="na">startPage</span><span class="o">(</span><span class="n">1</span><span class="o">,</span> <span class="n">4</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">List</span><span class="o">&lt;</span><span class="n">Emp</span><span class="o">&gt;</span> <span class="n">emps</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="na">selectByExample</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">PageInfo</span><span class="o">&lt;</span><span class="n">Emp</span><span class="o">&gt;</span> <span class="n">page</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PageInfo</span><span class="o">&lt;&gt;(</span><span class="n">emps</span><span class="o">,</span><span class="n">5</span><span class="o">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">page</span><span class="o">);</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>åˆ†é¡µç›¸å…³æ•°æ®ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">PageInfo{
</span></span><span class="line"><span class="cl">pageNum=1, pageSize=4, size=4, startRow=1, endRow=4, total=8, pages=2, 
</span></span><span class="line"><span class="cl">list=Page{count=true, pageNum=1, pageSize=4, startRow=0, endRow=4, total=8, pages=2, reasonable=false, pageSizeZero=false}[Emp{eid=1, empName=&#39;admin&#39;, age=22, sex=&#39;ç”·&#39;, email=&#39;456@qq.com&#39;, did=3}, Emp{eid=2, empName=&#39;admin2&#39;, age=22, sex=&#39;ç”·&#39;, email=&#39;456@qq.com&#39;, did=3}, Emp{eid=3, empName=&#39;ç‹äº”&#39;, age=12, sex=&#39;å¥³&#39;, email=&#39;123@qq.com&#39;, did=3}, Emp{eid=4, empName=&#39;èµµå…­&#39;, age=32, sex=&#39;ç”·&#39;, email=&#39;123@qq.com&#39;, did=1}], 
</span></span><span class="line"><span class="cl">prePage=0, nextPage=2, isFirstPage=true, isLastPage=false, hasPreviousPage=false, hasNextPage=true, navigatePages=5, navigateFirstPage=1, navigateLastPage=2, navigatepageNums=[1, 2]}
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>å…¶ä¸­listä¸­çš„æ•°æ®ç­‰åŒäºæ–¹æ³•ä¸€ä¸­ç›´æ¥è¾“å‡ºçš„pageæ•°æ®</p>
</li>
</ul>
<h4 id="å¸¸ç”¨æ•°æ®">å¸¸ç”¨æ•°æ®ï¼š</h4>
<ul>
<li>pageNumï¼šå½“å‰é¡µçš„é¡µç </li>
<li>pageSizeï¼šæ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°</li>
<li>sizeï¼šå½“å‰é¡µæ˜¾ç¤ºçš„çœŸå®æ¡æ•°</li>
<li>totalï¼šæ€»è®°å½•æ•°</li>
<li>pagesï¼šæ€»é¡µæ•°</li>
<li>prePageï¼šä¸Šä¸€é¡µçš„é¡µç </li>
<li>nextPageï¼šä¸‹ä¸€é¡µçš„é¡µç </li>
<li>isFirstPage/isLastPageï¼šæ˜¯å¦ä¸ºç¬¬ä¸€é¡µ/æœ€åä¸€é¡µ</li>
<li>hasPreviousPage/hasNextPageï¼šæ˜¯å¦å­˜åœ¨ä¸Šä¸€é¡µ/ä¸‹ä¸€é¡µ</li>
<li>navigatePagesï¼šå¯¼èˆªåˆ†é¡µçš„é¡µç æ•°</li>
<li>navigatepageNumsï¼šå¯¼èˆªåˆ†é¡µçš„é¡µç ï¼Œ[1,2,3,4,5]</li>
</ul>

</section>


    <footer class="article-footer">
    

    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

<aside class="related-contents--wrapper">
    <h2 class="section-title">Related contents</h2>
    <div class="related-contents">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/p/spring5-ioc%E6%B3%A8%E8%A7%A3%E6%96%B9%E5%BC%8F/">
        
        
            <div class="article-image">
                <img src="/p/spring5-ioc%E6%B3%A8%E8%A7%A3%E6%96%B9%E5%BC%8F/cover-v1.2.0.04cd62ad904ebcddc0265ad8f9399d45_hu27a756884c7e9dfb9cbdf758af038fda_343566_250x150_fill_q75_box_smart1.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post Spring5-IOCæ³¨è§£æ–¹å¼"
                        
                        data-hash="md5-BM1irZBOvN3AJlrY&#43;TmdRQ==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Spring5-IOCæ³¨è§£æ–¹å¼</h2>
        </div>
    </a>
</article>
            
                
<article class="has-image">
    <a href="/p/spring5-ioc-xml%E6%96%B9%E5%BC%8F/">
        
        
            <div class="article-image">
                <img src="/p/spring5-ioc-xml%E6%96%B9%E5%BC%8F/cover-v1.2.0.04cd62ad904ebcddc0265ad8f9399d45_hu27a756884c7e9dfb9cbdf758af038fda_343566_250x150_fill_q75_box_smart1.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post Spring5-IOC XMLæ–¹å¼"
                        
                        data-hash="md5-BM1irZBOvN3AJlrY&#43;TmdRQ==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Spring5-IOC XMLæ–¹å¼</h2>
        </div>
    </a>
</article>
            
                
<article class="has-image">
    <a href="/p/%E5%A0%86%E6%8E%92%E5%BA%8F/">
        
        
            <div class="article-image">
                <img src="/p/%E5%A0%86%E6%8E%92%E5%BA%8F/wallhaven-672007-2.d6c46f0832127f539a0f039d87a0e5b8_hu349411a28258a9cc5f53cf994dab486b_213344_250x150_fill_q75_box_smart1.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post å †æ’åº"
                        
                        data-hash="md5-1sRvCDISf1OaDwOdh6DluA==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">å †æ’åº</h2>
        </div>
    </a>
</article>
            
                
<article class="has-image">
    <a href="/p/%E5%9F%BA%E6%95%B0%E6%8E%92%E5%BA%8F/">
        
        
            <div class="article-image">
                <img src="/p/%E5%9F%BA%E6%95%B0%E6%8E%92%E5%BA%8F/wallhaven-672007-2.d6c46f0832127f539a0f039d87a0e5b8_hu349411a28258a9cc5f53cf994dab486b_213344_250x150_fill_q75_box_smart1.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post åŸºæ•°æ’åº"
                        
                        data-hash="md5-1sRvCDISf1OaDwOdh6DluA==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">åŸºæ•°æ’åº</h2>
        </div>
    </a>
</article>
            
                
<article class="has-image">
    <a href="/p/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/">
        
        
            <div class="article-image">
                <img src="/p/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/wallhaven-672007-2.d6c46f0832127f539a0f039d87a0e5b8_hu349411a28258a9cc5f53cf994dab486b_213344_250x150_fill_q75_box_smart1.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post å½’å¹¶æ’åº"
                        
                        data-hash="md5-1sRvCDISf1OaDwOdh6DluA==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">å½’å¹¶æ’åº</h2>
        </div>
    </a>
</article>
            
        </div>
    </div>
</aside>

     
    
        
    <div class="disqus-container">
    <div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "hugo-theme-stack" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onColorSchemeChange', (e) => {
        if (DISQUS) {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2022 Cammelia
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.10.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css"integrity="sha256-c0uckgykQ9v5k&#43;IqViZOZKc47Jn7KQil4/MP3ySA3F8="crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css"integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE="crossorigin="anonymous"
            >

            </main>
    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#mybatiså†å²">MyBatiså†å²</a></li>
    <li><a href="#mybatisç‰¹æ€§">MyBatisç‰¹æ€§</a></li>
    <li><a href="#mybatisä¸‹è½½">MyBatisä¸‹è½½</a></li>
    <li><a href="#å’Œå…¶å®ƒæŒä¹…åŒ–å±‚æŠ€æœ¯å¯¹æ¯”">å’Œå…¶å®ƒæŒä¹…åŒ–å±‚æŠ€æœ¯å¯¹æ¯”</a></li>
  </ol>

  <ol>
    <li><a href="#å¼€å‘ç¯å¢ƒ">å¼€å‘ç¯å¢ƒ</a></li>
    <li><a href="#åˆ›å»ºmavenå·¥ç¨‹">åˆ›å»ºmavenå·¥ç¨‹</a></li>
    <li><a href="#åˆ›å»ºmybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶">åˆ›å»ºMyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</a></li>
    <li><a href="#åˆ›å»ºmapperæ¥å£">åˆ›å»ºmapperæ¥å£</a></li>
    <li><a href="#åˆ›å»ºmybatisçš„æ˜ å°„æ–‡ä»¶">åˆ›å»ºMyBatisçš„æ˜ å°„æ–‡ä»¶</a></li>
    <li><a href="#é€šè¿‡junitæµ‹è¯•åŠŸèƒ½">é€šè¿‡junitæµ‹è¯•åŠŸèƒ½</a></li>
    <li><a href="#åŠ å…¥log4jæ—¥å¿—åŠŸèƒ½">åŠ å…¥log4jæ—¥å¿—åŠŸèƒ½</a></li>
  </ol>

  <ol>
    <li><a href="#å•ä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°">å•ä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°</a></li>
    <li><a href="#å¤šä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°">å¤šä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°</a></li>
    <li><a href="#mapé›†åˆç±»å‹çš„å‚æ•°">mapé›†åˆç±»å‹çš„å‚æ•°</a></li>
    <li><a href="#å®ä½“ç±»ç±»å‹çš„å‚æ•°">å®ä½“ç±»ç±»å‹çš„å‚æ•°</a></li>
    <li><a href="#ä½¿ç”¨paramæ ‡è¯†å‚æ•°">ä½¿ç”¨@Paramæ ‡è¯†å‚æ•°</a></li>
    <li><a href="#æ€»ç»“">æ€»ç»“</a></li>
  </ol>

  <ol>
    <li><a href="#æŸ¥è¯¢ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡">æŸ¥è¯¢ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡</a></li>
    <li><a href="#æŸ¥è¯¢ä¸€ä¸ªlisté›†åˆ">æŸ¥è¯¢ä¸€ä¸ªListé›†åˆ</a></li>
    <li><a href="#æŸ¥è¯¢å•ä¸ªæ•°æ®">æŸ¥è¯¢å•ä¸ªæ•°æ®</a></li>
    <li><a href="#æŸ¥è¯¢ä¸€æ¡æ•°æ®ä¸ºmapé›†åˆ">æŸ¥è¯¢ä¸€æ¡æ•°æ®ä¸ºmapé›†åˆ</a></li>
    <li><a href="#æŸ¥è¯¢å¤šæ¡æ•°æ®ä¸ºmapé›†åˆ">æŸ¥è¯¢å¤šæ¡æ•°æ®ä¸ºmapé›†åˆ</a>
      <ol>
        <li><a href="#æ–¹æ³•ä¸€">æ–¹æ³•ä¸€</a></li>
        <li><a href="#æ–¹æ³•äºŒ">æ–¹æ³•äºŒ</a></li>
      </ol>
    </li>
  </ol>

  <ol>
    <li><a href="#æ¨¡ç³ŠæŸ¥è¯¢">æ¨¡ç³ŠæŸ¥è¯¢</a></li>
    <li><a href="#æ‰¹é‡åˆ é™¤">æ‰¹é‡åˆ é™¤</a></li>
    <li><a href="#åŠ¨æ€è®¾ç½®è¡¨å">åŠ¨æ€è®¾ç½®è¡¨å</a></li>
    <li><a href="#æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢çš„ä¸»é”®">æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢çš„ä¸»é”®</a></li>
  </ol>

  <ol>
    <li><a href="#resultmapå¤„ç†å­—æ®µå’Œå±æ€§çš„æ˜ å°„å…³ç³»">resultMapå¤„ç†å­—æ®µå’Œå±æ€§çš„æ˜ å°„å…³ç³»</a></li>
    <li><a href="#å¤šå¯¹ä¸€æ˜ å°„å¤„ç†">å¤šå¯¹ä¸€æ˜ å°„å¤„ç†</a>
      <ol>
        <li><a href="#çº§è”æ–¹å¼å¤„ç†æ˜ å°„å…³ç³»">çº§è”æ–¹å¼å¤„ç†æ˜ å°„å…³ç³»</a></li>
        <li><a href="#ä½¿ç”¨associationå¤„ç†æ˜ å°„å…³ç³»">ä½¿ç”¨associationå¤„ç†æ˜ å°„å…³ç³»</a></li>
        <li><a href="#åˆ†æ­¥æŸ¥è¯¢">åˆ†æ­¥æŸ¥è¯¢</a>
          <ol>
            <li><a href="#1-æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯">1. æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯</a></li>
            <li><a href="#2-æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯">2. æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#ä¸€å¯¹å¤šæ˜ å°„å¤„ç†">ä¸€å¯¹å¤šæ˜ å°„å¤„ç†</a>
      <ol>
        <li><a href="#collection">collection</a></li>
        <li><a href="#åˆ†æ­¥æŸ¥è¯¢-1">åˆ†æ­¥æŸ¥è¯¢</a>
          <ol>
            <li><a href="#1-æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯">1. æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯</a></li>
            <li><a href="#2-æ ¹æ®éƒ¨é—¨idæŸ¥è¯¢éƒ¨é—¨ä¸­çš„æ‰€æœ‰å‘˜å·¥">2. æ ¹æ®éƒ¨é—¨idæŸ¥è¯¢éƒ¨é—¨ä¸­çš„æ‰€æœ‰å‘˜å·¥</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#å»¶è¿ŸåŠ è½½">å»¶è¿ŸåŠ è½½</a></li>
  </ol>

  <ol>
    <li><a href="#if">if</a></li>
    <li><a href="#where">where</a></li>
    <li><a href="#trim">trim</a></li>
    <li><a href="#choosewhenotherwise">chooseã€whenã€otherwise</a></li>
    <li><a href="#foreach">foreach</a></li>
    <li><a href="#sqlç‰‡æ®µ">SQLç‰‡æ®µ</a></li>
  </ol>

  <ol>
    <li><a href="#mybatisçš„ä¸€çº§ç¼“å­˜">MyBatisçš„ä¸€çº§ç¼“å­˜</a></li>
    <li><a href="#mybatisçš„äºŒçº§ç¼“å­˜">MyBatisçš„äºŒçº§ç¼“å­˜</a></li>
    <li><a href="#äºŒçº§ç¼“å­˜çš„ç›¸å…³é…ç½®">äºŒçº§ç¼“å­˜çš„ç›¸å…³é…ç½®</a></li>
    <li><a href="#mybatisç¼“å­˜æŸ¥è¯¢çš„é¡ºåº">MyBatisç¼“å­˜æŸ¥è¯¢çš„é¡ºåº</a></li>
    <li><a href="#æ•´åˆç¬¬ä¸‰æ–¹ç¼“å­˜ehcacheäº†è§£">æ•´åˆç¬¬ä¸‰æ–¹ç¼“å­˜EHCacheï¼ˆäº†è§£ï¼‰</a>
      <ol>
        <li><a href="#æ·»åŠ ä¾èµ–">æ·»åŠ ä¾èµ–</a></li>
        <li><a href="#å„ä¸ªjaråŒ…çš„åŠŸèƒ½">å„ä¸ªjaråŒ…çš„åŠŸèƒ½</a></li>
        <li><a href="#åˆ›å»ºehcacheçš„é…ç½®æ–‡ä»¶ehcachexml">åˆ›å»ºEHCacheçš„é…ç½®æ–‡ä»¶ehcache.xml</a></li>
        <li><a href="#è®¾ç½®äºŒçº§ç¼“å­˜çš„ç±»å‹">è®¾ç½®äºŒçº§ç¼“å­˜çš„ç±»å‹</a></li>
        <li><a href="#åŠ å…¥logbackæ—¥å¿—">åŠ å…¥logbackæ—¥å¿—</a></li>
        <li><a href="#ehcacheé…ç½®æ–‡ä»¶è¯´æ˜">EHCacheé…ç½®æ–‡ä»¶è¯´æ˜</a></li>
      </ol>
    </li>
  </ol>

  <ol>
    <li><a href="#åˆ›å»ºé€†å‘å·¥ç¨‹çš„æ­¥éª¤">åˆ›å»ºé€†å‘å·¥ç¨‹çš„æ­¥éª¤</a>
      <ol>
        <li><a href="#æ·»åŠ ä¾èµ–å’Œæ’ä»¶">æ·»åŠ ä¾èµ–å’Œæ’ä»¶</a></li>
        <li><a href="#åˆ›å»ºmybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶-1">åˆ›å»ºMyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</a></li>
        <li><a href="#åˆ›å»ºé€†å‘å·¥ç¨‹çš„é…ç½®æ–‡ä»¶">åˆ›å»ºé€†å‘å·¥ç¨‹çš„é…ç½®æ–‡ä»¶</a></li>
        <li><a href="#æ‰§è¡Œmbgæ’ä»¶çš„generateç›®æ ‡">æ‰§è¡ŒMBGæ’ä»¶çš„generateç›®æ ‡</a></li>
      </ol>
    </li>
    <li><a href="#qbc">QBC</a>
      <ol>
        <li><a href="#æŸ¥è¯¢">æŸ¥è¯¢</a></li>
        <li><a href="#å¢æ”¹">å¢æ”¹</a></li>
      </ol>
    </li>
  </ol>

  <ol>
    <li><a href="#åˆ†é¡µæ’ä»¶ä½¿ç”¨æ­¥éª¤">åˆ†é¡µæ’ä»¶ä½¿ç”¨æ­¥éª¤</a>
      <ol>
        <li><a href="#æ·»åŠ ä¾èµ–-1">æ·»åŠ ä¾èµ–</a></li>
        <li><a href="#é…ç½®åˆ†é¡µæ’ä»¶">é…ç½®åˆ†é¡µæ’ä»¶</a></li>
      </ol>
    </li>
    <li><a href="#åˆ†é¡µæ’ä»¶çš„ä½¿ç”¨">åˆ†é¡µæ’ä»¶çš„ä½¿ç”¨</a>
      <ol>
        <li><a href="#å¼€å¯åˆ†é¡µåŠŸèƒ½">å¼€å¯åˆ†é¡µåŠŸèƒ½</a></li>
        <li><a href="#åˆ†é¡µç›¸å…³æ•°æ®">åˆ†é¡µç›¸å…³æ•°æ®</a>
          <ol>
            <li><a href="#æ–¹æ³•ä¸€ç›´æ¥è¾“å‡º">æ–¹æ³•ä¸€ï¼šç›´æ¥è¾“å‡º</a></li>
            <li><a href="#æ–¹æ³•äºŒä½¿ç”¨pageinfo">æ–¹æ³•äºŒä½¿ç”¨PageInfo</a></li>
            <li><a href="#å¸¸ç”¨æ•°æ®">å¸¸ç”¨æ•°æ®ï¼š</a></li>
          </ol>
        </li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
